import{_ as W,an as Mt,l as jt,am as Rt}from"./mermaid.core-Do7RiuGt.js";const Dt={};function Ht(n,r){const t=r||Dt,e=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return rt(n,e,i)}function rt(n,r,t){if(qt(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(r&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Vn(n.children,r,t)}return Array.isArray(n)?Vn(n,r,t):""}function Vn(n,r,t){const e=[];let i=-1;for(;++i<n.length;)e[i]=rt(n[i],r,t);return e.join("")}function qt(n){return!!(n&&typeof n=="object")}const Qn=document.createElement("i");function Pn(n){const r="&"+n+";";Qn.innerHTML=r;const t=Qn.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===r?!1:t}function en(n,r,t,e){const i=n.length;let u=0,a;if(r<0?r=-r>i?0:i+r:r=r>i?i:r,t=t>0?t:0,e.length<1e4)a=Array.from(e),a.unshift(r,t),n.splice(...a);else for(t&&n.splice(r,t);u<e.length;)a=e.slice(u,u+1e4),a.unshift(r,0),n.splice(...a),u+=1e4,r+=1e4}function G(n,r){return n.length>0?(en(n,n.length,0,r),n):r}const Un={}.hasOwnProperty;function Nt(n){const r={};let t=-1;for(;++t<n.length;)Wt(r,n[t]);return r}function Wt(n,r){let t;for(t in r){const i=(Un.call(n,t)?n[t]:void 0)||(n[t]={}),u=r[t];let a;if(u)for(a in u){Un.call(i,a)||(i[a]=[]);const l=u[a];Vt(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Vt(n,r){let t=-1;const e=[];for(;++t<r.length;)(r[t].add==="after"?n:e).push(r[t]);en(n,0,0,e)}function it(n,r){const t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"ï¿½":String.fromCodePoint(t)}function gn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const tn=cn(/[A-Za-z]/),nn=cn(/[\dA-Za-z]/),Qt=cn(/[#-'*+\--9=?A-Z^-~]/);function Ln(n){return n!==null&&(n<32||n===127)}const Bn=cn(/\d/),Ut=cn(/[\dA-Fa-f]/),$t=cn(/[!-/:-@[-`{-~]/);function z(n){return n!==null&&n<-2}function Z(n){return n!==null&&(n<0||n===32)}function F(n){return n===-2||n===-1||n===32}const Zt=cn(new RegExp("\\p{P}|\\p{S}","u")),Yt=cn(/\s/);function cn(n){return r;function r(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function _(n,r,t,e){const i=e?e-1:Number.POSITIVE_INFINITY;let u=0;return a;function a(p){return F(p)?(n.enter(t),l(p)):r(p)}function l(p){return F(p)&&u++<i?(n.consume(p),l):(n.exit(t),r(p))}}const Gt={tokenize:Jt};function Jt(n){const r=n.attempt(this.parser.constructs.contentInitial,e,i);let t;return r;function e(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),_(n,r,"linePrefix")}function i(l){return n.enter("paragraph"),u(l)}function u(l){const p=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,a(l)}function a(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return z(l)?(n.consume(l),n.exit("chunkText"),u):(n.consume(l),a)}}const Kt={tokenize:Xt},$n={tokenize:vt};function Xt(n){const r=this,t=[];let e=0,i,u,a;return l;function l(y){if(e<t.length){const M=t[e];return r.containerState=M[1],n.attempt(M[0].continuation,p,c)(y)}return c(y)}function p(y){if(e++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,i&&H();const M=r.events.length;let R=M,k;for(;R--;)if(r.events[R][0]==="exit"&&r.events[R][1].type==="chunkFlow"){k=r.events[R][1].end;break}b(e);let L=M;for(;L<r.events.length;)r.events[L][1].end=Object.assign({},k),L++;return en(r.events,R+1,0,r.events.slice(M)),r.events.length=L,c(y)}return l(y)}function c(y){if(e===t.length){if(!i)return x(y);if(i.currentConstruct&&i.currentConstruct.concrete)return E(y);r.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return r.containerState={},n.check($n,m,f)(y)}function m(y){return i&&H(),b(e),x(y)}function f(y){return r.parser.lazy[r.now().line]=e!==t.length,a=r.now().offset,E(y)}function x(y){return r.containerState={},n.attempt($n,h,E)(y)}function h(y){return e++,t.push([r.currentConstruct,r.containerState]),x(y)}function E(y){if(y===null){i&&H(),b(0),n.consume(y);return}return i=i||r.parser.flow(r.now()),n.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:i}),A(y)}function A(y){if(y===null){D(n.exit("chunkFlow"),!0),b(0),n.consume(y);return}return z(y)?(n.consume(y),D(n.exit("chunkFlow")),e=0,r.interrupt=void 0,l):(n.consume(y),A)}function D(y,M){const R=r.sliceStream(y);if(M&&R.push(null),y.previous=u,u&&(u.next=y),u=y,i.defineSkip(y.start),i.write(R),r.parser.lazy[y.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const L=r.events.length;let q=L,O,P;for(;q--;)if(r.events[q][0]==="exit"&&r.events[q][1].type==="chunkFlow"){if(O){P=r.events[q][1].end;break}O=!0}for(b(e),k=L;k<r.events.length;)r.events[k][1].end=Object.assign({},P),k++;en(r.events,q+1,0,r.events.slice(L)),r.events.length=k}}function b(y){let M=t.length;for(;M-- >y;){const R=t[M];r.containerState=R[1],R[0].exit.call(r,n)}t.length=y}function H(){i.write([null]),u=void 0,i=void 0,r.containerState._closeFlow=void 0}}function vt(n,r,t){return _(n,n.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zn(n){if(n===null||Z(n)||Yt(n))return 1;if(Zt(n))return 2}function Mn(n,r,t){const e=[];let i=-1;for(;++i<n.length;){const u=n[i].resolveAll;u&&!e.includes(u)&&(r=u(r,t),e.push(u))}return r}const On={name:"attention",tokenize:te,resolveAll:ne};function ne(n,r){let t=-1,e,i,u,a,l,p,c,m;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(e=t;e--;)if(n[e][0]==="exit"&&n[e][1].type==="attentionSequence"&&n[e][1]._open&&r.sliceSerialize(n[e][1]).charCodeAt(0)===r.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[e][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[e][1].end.offset-n[e][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;p=n[e][1].end.offset-n[e][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const f=Object.assign({},n[e][1].end),x=Object.assign({},n[t][1].start);Yn(f,-p),Yn(x,p),a={type:p>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},n[e][1].end)},l={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:x},u={type:p>1?"strongText":"emphasisText",start:Object.assign({},n[e][1].end),end:Object.assign({},n[t][1].start)},i={type:p>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},l.end)},n[e][1].end=Object.assign({},a.start),n[t][1].start=Object.assign({},l.end),c=[],n[e][1].end.offset-n[e][1].start.offset&&(c=G(c,[["enter",n[e][1],r],["exit",n[e][1],r]])),c=G(c,[["enter",i,r],["enter",a,r],["exit",a,r],["enter",u,r]]),c=G(c,Mn(r.parser.constructs.insideSpan.null,n.slice(e+1,t),r)),c=G(c,[["exit",u,r],["enter",l,r],["exit",l,r],["exit",i,r]]),n[t][1].end.offset-n[t][1].start.offset?(m=2,c=G(c,[["enter",n[t][1],r],["exit",n[t][1],r]])):m=0,en(n,e-1,t-e+3,c),t=e+c.length-m-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function te(n,r){const t=this.parser.constructs.attentionMarkers.null,e=this.previous,i=Zn(e);let u;return a;function a(p){return u=p,n.enter("attentionSequence"),l(p)}function l(p){if(p===u)return n.consume(p),l;const c=n.exit("attentionSequence"),m=Zn(p),f=!m||m===2&&i||t.includes(p),x=!i||i===2&&m||t.includes(e);return c._open=!!(u===42?f:f&&(i||!x)),c._close=!!(u===42?x:x&&(m||!f)),r(p)}}function Yn(n,r){n.column+=r,n.offset+=r,n._bufferIndex+=r}const ee={name:"autolink",tokenize:re};function re(n,r,t){let e=0;return i;function i(h){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),u}function u(h){return tn(h)?(n.consume(h),a):c(h)}function a(h){return h===43||h===45||h===46||nn(h)?(e=1,l(h)):c(h)}function l(h){return h===58?(n.consume(h),e=0,p):(h===43||h===45||h===46||nn(h))&&e++<32?(n.consume(h),l):(e=0,c(h))}function p(h){return h===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.exit("autolink"),r):h===null||h===32||h===60||Ln(h)?t(h):(n.consume(h),p)}function c(h){return h===64?(n.consume(h),m):Qt(h)?(n.consume(h),c):t(h)}function m(h){return nn(h)?f(h):t(h)}function f(h){return h===46?(n.consume(h),e=0,m):h===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.exit("autolink"),r):x(h)}function x(h){if((h===45||nn(h))&&e++<63){const E=h===45?x:f;return n.consume(h),E}return t(h)}}const In={tokenize:ie,partial:!0};function ie(n,r,t){return e;function e(u){return F(u)?_(n,i,"linePrefix")(u):i(u)}function i(u){return u===null||z(u)?r(u):t(u)}}const ut={name:"blockQuote",tokenize:ue,continuation:{tokenize:ae},exit:le};function ue(n,r,t){const e=this;return i;function i(a){if(a===62){const l=e.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),u}return t(a)}function u(a){return F(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),r):(n.exit("blockQuotePrefix"),r(a))}}function ae(n,r,t){const e=this;return i;function i(a){return F(a)?_(n,u,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):u(a)}function u(a){return n.attempt(ut,r,t)(a)}}function le(n){n.exit("blockQuote")}const at={name:"characterEscape",tokenize:oe};function oe(n,r,t){return e;function e(u){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(u),n.exit("escapeMarker"),i}function i(u){return $t(u)?(n.enter("characterEscapeValue"),n.consume(u),n.exit("characterEscapeValue"),n.exit("characterEscape"),r):t(u)}}const lt={name:"characterReference",tokenize:se};function se(n,r,t){const e=this;let i=0,u,a;return l;function l(f){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(f),n.exit("characterReferenceMarker"),p}function p(f){return f===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(f),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),u=31,a=nn,m(f))}function c(f){return f===88||f===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(f),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),u=6,a=Ut,m):(n.enter("characterReferenceValue"),u=7,a=Bn,m(f))}function m(f){if(f===59&&i){const x=n.exit("characterReferenceValue");return a===nn&&!Pn(e.sliceSerialize(x))?t(f):(n.enter("characterReferenceMarker"),n.consume(f),n.exit("characterReferenceMarker"),n.exit("characterReference"),r)}return a(f)&&i++<u?(n.consume(f),m):t(f)}}const Gn={tokenize:he,partial:!0},Jn={name:"codeFenced",tokenize:ce,concrete:!0};function ce(n,r,t){const e=this,i={tokenize:R,partial:!0};let u=0,a=0,l;return p;function p(k){return c(k)}function c(k){const L=e.events[e.events.length-1];return u=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,l=k,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(k)}function m(k){return k===l?(a++,n.consume(k),m):a<3?t(k):(n.exit("codeFencedFenceSequence"),F(k)?_(n,f,"whitespace")(k):f(k))}function f(k){return k===null||z(k)?(n.exit("codeFencedFence"),e.interrupt?r(k):n.check(Gn,A,M)(k)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===null||z(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),f(k)):F(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),_(n,h,"whitespace")(k)):k===96&&k===l?t(k):(n.consume(k),x)}function h(k){return k===null||z(k)?f(k):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),E(k))}function E(k){return k===null||z(k)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?t(k):(n.consume(k),E)}function A(k){return n.attempt(i,M,D)(k)}function D(k){return n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),b}function b(k){return u>0&&F(k)?_(n,H,"linePrefix",u+1)(k):H(k)}function H(k){return k===null||z(k)?n.check(Gn,A,M)(k):(n.enter("codeFlowValue"),y(k))}function y(k){return k===null||z(k)?(n.exit("codeFlowValue"),H(k)):(n.consume(k),y)}function M(k){return n.exit("codeFenced"),r(k)}function R(k,L,q){let O=0;return P;function P(T){return k.enter("lineEnding"),k.consume(T),k.exit("lineEnding"),w}function w(T){return k.enter("codeFencedFence"),F(T)?_(k,S,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):S(T)}function S(T){return T===l?(k.enter("codeFencedFenceSequence"),j(T)):q(T)}function j(T){return T===l?(O++,k.consume(T),j):O>=a?(k.exit("codeFencedFenceSequence"),F(T)?_(k,N,"whitespace")(T):N(T)):q(T)}function N(T){return T===null||z(T)?(k.exit("codeFencedFence"),L(T)):q(T)}}}function he(n,r,t){const e=this;return i;function i(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),u)}function u(a){return e.parser.lazy[e.now().line]?t(a):r(a)}}const Fn={name:"codeIndented",tokenize:fe},pe={tokenize:me,partial:!0};function fe(n,r,t){const e=this;return i;function i(c){return n.enter("codeIndented"),_(n,u,"linePrefix",5)(c)}function u(c){const m=e.events[e.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(c):t(c)}function a(c){return c===null?p(c):z(c)?n.attempt(pe,a,p)(c):(n.enter("codeFlowValue"),l(c))}function l(c){return c===null||z(c)?(n.exit("codeFlowValue"),a(c)):(n.consume(c),l)}function p(c){return n.exit("codeIndented"),r(c)}}function me(n,r,t){const e=this;return i;function i(a){return e.parser.lazy[e.now().line]?t(a):z(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i):_(n,u,"linePrefix",5)(a)}function u(a){const l=e.events[e.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?r(a):z(a)?i(a):t(a)}}const xe={name:"codeText",tokenize:de,resolve:ge,previous:ke};function ge(n){let r=n.length-4,t=3,e,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[r][1].type==="lineEnding"||n[r][1].type==="space")){for(e=t;++e<r;)if(n[e][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(e=t-1,r++;++e<=r;)i===void 0?e!==r&&n[e][1].type!=="lineEnding"&&(i=e):(e===r||n[e][1].type==="lineEnding")&&(n[i][1].type="codeTextData",e!==i+2&&(n[i][1].end=n[e-1][1].end,n.splice(i+2,e-i-2),r-=e-i-2,e=i+2),i=void 0);return n}function ke(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function de(n,r,t){let e=0,i,u;return a;function a(f){return n.enter("codeText"),n.enter("codeTextSequence"),l(f)}function l(f){return f===96?(n.consume(f),e++,l):(n.exit("codeTextSequence"),p(f))}function p(f){return f===null?t(f):f===32?(n.enter("space"),n.consume(f),n.exit("space"),p):f===96?(u=n.enter("codeTextSequence"),i=0,m(f)):z(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),p):(n.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||z(f)?(n.exit("codeTextData"),p(f)):(n.consume(f),c)}function m(f){return f===96?(n.consume(f),i++,m):i===e?(n.exit("codeTextSequence"),n.exit("codeText"),r(f)):(u.type="codeTextData",c(f))}}function ot(n){const r={};let t=-1,e,i,u,a,l,p,c;for(;++t<n.length;){for(;t in r;)t=r[t];if(e=n[t],t&&e[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(p=e[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(e[0]==="enter")e[1].contentType&&(Object.assign(r,be(n,t)),t=r[t],c=!0);else if(e[1]._container){for(u=t,i=void 0;u--&&(a=n[u],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=u);i&&(e[1].end=Object.assign({},n[i][1].start),l=n.slice(i,t),l.unshift(e),en(n,i,t-i+1,l))}}return!c}function be(n,r){const t=n[r][1],e=n[r][2];let i=r-1;const u=[],a=t._tokenizer||e.parser[t.contentType](t.start),l=a.events,p=[],c={};let m,f,x=-1,h=t,E=0,A=0;const D=[A];for(;h;){for(;n[++i][1]!==h;);u.push(i),h._tokenizer||(m=e.sliceStream(h),h.next||m.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=t;++x<l.length;)l[x][0]==="exit"&&l[x-1][0]==="enter"&&l[x][1].type===l[x-1][1].type&&l[x][1].start.line!==l[x][1].end.line&&(A=x+1,D.push(A),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):D.pop(),x=D.length;x--;){const b=l.slice(D[x],D[x+1]),H=u.pop();p.unshift([H,H+b.length-1]),en(n,H,2,b)}for(x=-1;++x<p.length;)c[E+p[x][0]]=E+p[x][1],E+=p[x][1]-p[x][0]-1;return c}const ye={tokenize:ze,resolve:we},Se={tokenize:Ie,partial:!0};function we(n){return ot(n),n}function ze(n,r){let t;return e;function e(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?u(l):z(l)?n.check(Se,a,u)(l):(n.consume(l),i)}function u(l){return n.exit("chunkContent"),n.exit("content"),r(l)}function a(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Ie(n,r,t){const e=this;return i;function i(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),_(n,u,"linePrefix")}function u(a){if(a===null||z(a))return t(a);const l=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?r(a):n.interrupt(e.parser.constructs.flow,t,r)(a)}}function st(n,r,t,e,i,u,a,l,p){const c=p||Number.POSITIVE_INFINITY;let m=0;return f;function f(b){return b===60?(n.enter(e),n.enter(i),n.enter(u),n.consume(b),n.exit(u),x):b===null||b===32||b===41||Ln(b)?t(b):(n.enter(e),n.enter(a),n.enter(l),n.enter("chunkString",{contentType:"string"}),A(b))}function x(b){return b===62?(n.enter(u),n.consume(b),n.exit(u),n.exit(i),n.exit(e),r):(n.enter(l),n.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===62?(n.exit("chunkString"),n.exit(l),x(b)):b===null||b===60||z(b)?t(b):(n.consume(b),b===92?E:h)}function E(b){return b===60||b===62||b===92?(n.consume(b),h):h(b)}function A(b){return!m&&(b===null||b===41||Z(b))?(n.exit("chunkString"),n.exit(l),n.exit(a),n.exit(e),r(b)):m<c&&b===40?(n.consume(b),m++,A):b===41?(n.consume(b),m--,A):b===null||b===32||b===40||Ln(b)?t(b):(n.consume(b),b===92?D:A)}function D(b){return b===40||b===41||b===92?(n.consume(b),A):A(b)}}function ct(n,r,t,e,i,u){const a=this;let l=0,p;return c;function c(h){return n.enter(e),n.enter(i),n.consume(h),n.exit(i),n.enter(u),m}function m(h){return l>999||h===null||h===91||h===93&&!p||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?t(h):h===93?(n.exit(u),n.enter(i),n.consume(h),n.exit(i),n.exit(e),r):z(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||z(h)||l++>999?(n.exit("chunkString"),m(h)):(n.consume(h),p||(p=!F(h)),h===92?x:f)}function x(h){return h===91||h===92||h===93?(n.consume(h),l++,f):f(h)}}function ht(n,r,t,e,i,u){let a;return l;function l(x){return x===34||x===39||x===40?(n.enter(e),n.enter(i),n.consume(x),n.exit(i),a=x===40?41:x,p):t(x)}function p(x){return x===a?(n.enter(i),n.consume(x),n.exit(i),n.exit(e),r):(n.enter(u),c(x))}function c(x){return x===a?(n.exit(u),p(a)):x===null?t(x):z(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),_(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===a||x===null||z(x)?(n.exit("chunkString"),c(x)):(n.consume(x),x===92?f:m)}function f(x){return x===a||x===92?(n.consume(x),m):m(x)}}function yn(n,r){let t;return e;function e(i){return z(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,e):F(i)?_(n,e,t?"linePrefix":"lineSuffix")(i):r(i)}}const Ce={name:"definition",tokenize:Ee},Te={tokenize:Fe,partial:!0};function Ee(n,r,t){const e=this;let i;return u;function u(h){return n.enter("definition"),a(h)}function a(h){return ct.call(e,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=gn(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),h===58?(n.enter("definitionMarker"),n.consume(h),n.exit("definitionMarker"),p):t(h)}function p(h){return Z(h)?yn(n,c)(h):c(h)}function c(h){return st(n,m,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function m(h){return n.attempt(Te,f,f)(h)}function f(h){return F(h)?_(n,x,"whitespace")(h):x(h)}function x(h){return h===null||z(h)?(n.exit("definition"),e.parser.defined.push(i),r(h)):t(h)}}function Fe(n,r,t){return e;function e(l){return Z(l)?yn(n,i)(l):t(l)}function i(l){return ht(n,u,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function u(l){return F(l)?_(n,a,"whitespace")(l):a(l)}function a(l){return l===null||z(l)?r(l):t(l)}}const Ae={name:"hardBreakEscape",tokenize:Le};function Le(n,r,t){return e;function e(u){return n.enter("hardBreakEscape"),n.consume(u),i}function i(u){return z(u)?(n.exit("hardBreakEscape"),r(u)):t(u)}}const Be={name:"headingAtx",tokenize:_e,resolve:Oe};function Oe(n,r){let t=n.length-2,e=3,i,u;return n[e][1].type==="whitespace"&&(e+=2),t-2>e&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(e===t-1||t-4>e&&n[t-2][1].type==="whitespace")&&(t-=e+1===t?2:4),t>e&&(i={type:"atxHeadingText",start:n[e][1].start,end:n[t][1].end},u={type:"chunkText",start:n[e][1].start,end:n[t][1].end,contentType:"text"},en(n,e,t-e+1,[["enter",i,r],["enter",u,r],["exit",u,r],["exit",i,r]])),n}function _e(n,r,t){let e=0;return i;function i(m){return n.enter("atxHeading"),u(m)}function u(m){return n.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&e++<6?(n.consume(m),a):m===null||Z(m)?(n.exit("atxHeadingSequence"),l(m)):t(m)}function l(m){return m===35?(n.enter("atxHeadingSequence"),p(m)):m===null||z(m)?(n.exit("atxHeading"),r(m)):F(m)?_(n,l,"whitespace")(m):(n.enter("atxHeadingText"),c(m))}function p(m){return m===35?(n.consume(m),p):(n.exit("atxHeadingSequence"),l(m))}function c(m){return m===null||m===35||Z(m)?(n.exit("atxHeadingText"),l(m)):(n.consume(m),c)}}const Pe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kn=["pre","script","style","textarea"],Me={name:"htmlFlow",tokenize:He,resolveTo:De,concrete:!0},je={tokenize:Ne,partial:!0},Re={tokenize:qe,partial:!0};function De(n){let r=n.length;for(;r--&&!(n[r][0]==="enter"&&n[r][1].type==="htmlFlow"););return r>1&&n[r-2][1].type==="linePrefix"&&(n[r][1].start=n[r-2][1].start,n[r+1][1].start=n[r-2][1].start,n.splice(r-2,2)),n}function He(n,r,t){const e=this;let i,u,a,l,p;return c;function c(s){return m(s)}function m(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),f}function f(s){return s===33?(n.consume(s),x):s===47?(n.consume(s),u=!0,A):s===63?(n.consume(s),i=3,e.interrupt?r:o):tn(s)?(n.consume(s),a=String.fromCharCode(s),D):t(s)}function x(s){return s===45?(n.consume(s),i=2,h):s===91?(n.consume(s),i=5,l=0,E):tn(s)?(n.consume(s),i=4,e.interrupt?r:o):t(s)}function h(s){return s===45?(n.consume(s),e.interrupt?r:o):t(s)}function E(s){const X="CDATA[";return s===X.charCodeAt(l++)?(n.consume(s),l===X.length?e.interrupt?r:S:E):t(s)}function A(s){return tn(s)?(n.consume(s),a=String.fromCharCode(s),D):t(s)}function D(s){if(s===null||s===47||s===62||Z(s)){const X=s===47,hn=a.toLowerCase();return!X&&!u&&Kn.includes(hn)?(i=1,e.interrupt?r(s):S(s)):Pe.includes(a.toLowerCase())?(i=6,X?(n.consume(s),b):e.interrupt?r(s):S(s)):(i=7,e.interrupt&&!e.parser.lazy[e.now().line]?t(s):u?H(s):y(s))}return s===45||nn(s)?(n.consume(s),a+=String.fromCharCode(s),D):t(s)}function b(s){return s===62?(n.consume(s),e.interrupt?r:S):t(s)}function H(s){return F(s)?(n.consume(s),H):P(s)}function y(s){return s===47?(n.consume(s),P):s===58||s===95||tn(s)?(n.consume(s),M):F(s)?(n.consume(s),y):P(s)}function M(s){return s===45||s===46||s===58||s===95||nn(s)?(n.consume(s),M):R(s)}function R(s){return s===61?(n.consume(s),k):F(s)?(n.consume(s),R):y(s)}function k(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),p=s,L):F(s)?(n.consume(s),k):q(s)}function L(s){return s===p?(n.consume(s),p=null,O):s===null||z(s)?t(s):(n.consume(s),L)}function q(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||Z(s)?R(s):(n.consume(s),q)}function O(s){return s===47||s===62||F(s)?y(s):t(s)}function P(s){return s===62?(n.consume(s),w):t(s)}function w(s){return s===null||z(s)?S(s):F(s)?(n.consume(s),w):t(s)}function S(s){return s===45&&i===2?(n.consume(s),U):s===60&&i===1?(n.consume(s),V):s===62&&i===4?(n.consume(s),K):s===63&&i===3?(n.consume(s),o):s===93&&i===5?(n.consume(s),rn):z(s)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(je,un,j)(s)):s===null||z(s)?(n.exit("htmlFlowData"),j(s)):(n.consume(s),S)}function j(s){return n.check(Re,N,un)(s)}function N(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),T}function T(s){return s===null||z(s)?j(s):(n.enter("htmlFlowData"),S(s))}function U(s){return s===45?(n.consume(s),o):S(s)}function V(s){return s===47?(n.consume(s),a="",J):S(s)}function J(s){if(s===62){const X=a.toLowerCase();return Kn.includes(X)?(n.consume(s),K):S(s)}return tn(s)&&a.length<8?(n.consume(s),a+=String.fromCharCode(s),J):S(s)}function rn(s){return s===93?(n.consume(s),o):S(s)}function o(s){return s===62?(n.consume(s),K):s===45&&i===2?(n.consume(s),o):S(s)}function K(s){return s===null||z(s)?(n.exit("htmlFlowData"),un(s)):(n.consume(s),K)}function un(s){return n.exit("htmlFlow"),r(s)}}function qe(n,r,t){const e=this;return i;function i(a){return z(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),u):t(a)}function u(a){return e.parser.lazy[e.now().line]?t(a):r(a)}}function Ne(n,r,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(In,r,t)}}const We={name:"htmlText",tokenize:Ve};function Ve(n,r,t){const e=this;let i,u,a;return l;function l(o){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(o),p}function p(o){return o===33?(n.consume(o),c):o===47?(n.consume(o),R):o===63?(n.consume(o),y):tn(o)?(n.consume(o),q):t(o)}function c(o){return o===45?(n.consume(o),m):o===91?(n.consume(o),u=0,E):tn(o)?(n.consume(o),H):t(o)}function m(o){return o===45?(n.consume(o),h):t(o)}function f(o){return o===null?t(o):o===45?(n.consume(o),x):z(o)?(a=f,V(o)):(n.consume(o),f)}function x(o){return o===45?(n.consume(o),h):f(o)}function h(o){return o===62?U(o):o===45?x(o):f(o)}function E(o){const K="CDATA[";return o===K.charCodeAt(u++)?(n.consume(o),u===K.length?A:E):t(o)}function A(o){return o===null?t(o):o===93?(n.consume(o),D):z(o)?(a=A,V(o)):(n.consume(o),A)}function D(o){return o===93?(n.consume(o),b):A(o)}function b(o){return o===62?U(o):o===93?(n.consume(o),b):A(o)}function H(o){return o===null||o===62?U(o):z(o)?(a=H,V(o)):(n.consume(o),H)}function y(o){return o===null?t(o):o===63?(n.consume(o),M):z(o)?(a=y,V(o)):(n.consume(o),y)}function M(o){return o===62?U(o):y(o)}function R(o){return tn(o)?(n.consume(o),k):t(o)}function k(o){return o===45||nn(o)?(n.consume(o),k):L(o)}function L(o){return z(o)?(a=L,V(o)):F(o)?(n.consume(o),L):U(o)}function q(o){return o===45||nn(o)?(n.consume(o),q):o===47||o===62||Z(o)?O(o):t(o)}function O(o){return o===47?(n.consume(o),U):o===58||o===95||tn(o)?(n.consume(o),P):z(o)?(a=O,V(o)):F(o)?(n.consume(o),O):U(o)}function P(o){return o===45||o===46||o===58||o===95||nn(o)?(n.consume(o),P):w(o)}function w(o){return o===61?(n.consume(o),S):z(o)?(a=w,V(o)):F(o)?(n.consume(o),w):O(o)}function S(o){return o===null||o===60||o===61||o===62||o===96?t(o):o===34||o===39?(n.consume(o),i=o,j):z(o)?(a=S,V(o)):F(o)?(n.consume(o),S):(n.consume(o),N)}function j(o){return o===i?(n.consume(o),i=void 0,T):o===null?t(o):z(o)?(a=j,V(o)):(n.consume(o),j)}function N(o){return o===null||o===34||o===39||o===60||o===61||o===96?t(o):o===47||o===62||Z(o)?O(o):(n.consume(o),N)}function T(o){return o===47||o===62||Z(o)?O(o):t(o)}function U(o){return o===62?(n.consume(o),n.exit("htmlTextData"),n.exit("htmlText"),r):t(o)}function V(o){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),J}function J(o){return F(o)?_(n,rn,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):rn(o)}function rn(o){return n.enter("htmlTextData"),a(o)}}const jn={name:"labelEnd",tokenize:Ge,resolveTo:Ye,resolveAll:Ze},Qe={tokenize:Je},Ue={tokenize:Ke},$e={tokenize:Xe};function Ze(n){let r=-1;for(;++r<n.length;){const t=n[r][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(r+1,t.type==="labelImage"?4:2),t.type="data",r++)}return n}function Ye(n,r){let t=n.length,e=0,i,u,a,l;for(;t--;)if(i=n[t][1],u){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(u=t,i.type!=="labelLink")){e=2;break}}else i.type==="labelEnd"&&(a=t);const p={type:n[u][1].type==="labelLink"?"link":"image",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)},c={type:"label",start:Object.assign({},n[u][1].start),end:Object.assign({},n[a][1].end)},m={type:"labelText",start:Object.assign({},n[u+e+2][1].end),end:Object.assign({},n[a-2][1].start)};return l=[["enter",p,r],["enter",c,r]],l=G(l,n.slice(u+1,u+e+3)),l=G(l,[["enter",m,r]]),l=G(l,Mn(r.parser.constructs.insideSpan.null,n.slice(u+e+4,a-3),r)),l=G(l,[["exit",m,r],n[a-2],n[a-1],["exit",c,r]]),l=G(l,n.slice(a+1)),l=G(l,[["exit",p,r]]),en(n,u,n.length,l),n}function Ge(n,r,t){const e=this;let i=e.events.length,u,a;for(;i--;)if((e.events[i][1].type==="labelImage"||e.events[i][1].type==="labelLink")&&!e.events[i][1]._balanced){u=e.events[i][1];break}return l;function l(x){return u?u._inactive?f(x):(a=e.parser.defined.includes(gn(e.sliceSerialize({start:u.end,end:e.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(x),n.exit("labelMarker"),n.exit("labelEnd"),p):t(x)}function p(x){return x===40?n.attempt(Qe,m,a?m:f)(x):x===91?n.attempt(Ue,m,a?c:f)(x):a?m(x):f(x)}function c(x){return n.attempt($e,m,f)(x)}function m(x){return r(x)}function f(x){return u._balanced=!0,t(x)}}function Je(n,r,t){return e;function e(f){return n.enter("resource"),n.enter("resourceMarker"),n.consume(f),n.exit("resourceMarker"),i}function i(f){return Z(f)?yn(n,u)(f):u(f)}function u(f){return f===41?m(f):st(n,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Z(f)?yn(n,p)(f):m(f)}function l(f){return t(f)}function p(f){return f===34||f===39||f===40?ht(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function c(f){return Z(f)?yn(n,m)(f):m(f)}function m(f){return f===41?(n.enter("resourceMarker"),n.consume(f),n.exit("resourceMarker"),n.exit("resource"),r):t(f)}}function Ke(n,r,t){const e=this;return i;function i(l){return ct.call(e,n,u,a,"reference","referenceMarker","referenceString")(l)}function u(l){return e.parser.defined.includes(gn(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?r(l):t(l)}function a(l){return t(l)}}function Xe(n,r,t){return e;function e(u){return n.enter("reference"),n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),i}function i(u){return u===93?(n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),n.exit("reference"),r):t(u)}}const ve={name:"labelStartImage",tokenize:nr,resolveAll:jn.resolveAll};function nr(n,r,t){const e=this;return i;function i(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),u}function u(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),a):t(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(l):r(l)}}const tr={name:"labelStartLink",tokenize:er,resolveAll:jn.resolveAll};function er(n,r,t){const e=this;return i;function i(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),u}function u(a){return a===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(a):r(a)}}const An={name:"lineEnding",tokenize:rr};function rr(n,r){return t;function t(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),_(n,r,"linePrefix")}}const Sn={name:"thematicBreak",tokenize:ir};function ir(n,r,t){let e=0,i;return u;function u(c){return n.enter("thematicBreak"),a(c)}function a(c){return i=c,l(c)}function l(c){return c===i?(n.enter("thematicBreakSequence"),p(c)):e>=3&&(c===null||z(c))?(n.exit("thematicBreak"),r(c)):t(c)}function p(c){return c===i?(n.consume(c),e++,p):(n.exit("thematicBreakSequence"),F(c)?_(n,l,"whitespace")(c):l(c))}}const $={name:"list",tokenize:lr,continuation:{tokenize:or},exit:cr},ur={tokenize:hr,partial:!0},ar={tokenize:sr,partial:!0};function lr(n,r,t){const e=this,i=e.events[e.events.length-1];let u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(h){const E=e.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!e.containerState.marker||h===e.containerState.marker:Bn(h)){if(e.containerState.type||(e.containerState.type=E,n.enter(E,{_container:!0})),E==="listUnordered")return n.enter("listItemPrefix"),h===42||h===45?n.check(Sn,t,c)(h):c(h);if(!e.interrupt||h===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(h)}return t(h)}function p(h){return Bn(h)&&++a<10?(n.consume(h),p):(!e.interrupt||a<2)&&(e.containerState.marker?h===e.containerState.marker:h===41||h===46)?(n.exit("listItemValue"),c(h)):t(h)}function c(h){return n.enter("listItemMarker"),n.consume(h),n.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||h,n.check(In,e.interrupt?t:m,n.attempt(ur,x,f))}function m(h){return e.containerState.initialBlankLine=!0,u++,x(h)}function f(h){return F(h)?(n.enter("listItemPrefixWhitespace"),n.consume(h),n.exit("listItemPrefixWhitespace"),x):t(h)}function x(h){return e.containerState.size=u+e.sliceSerialize(n.exit("listItemPrefix"),!0).length,r(h)}}function or(n,r,t){const e=this;return e.containerState._closeFlow=void 0,n.check(In,i,u);function i(l){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,_(n,r,"listItemIndent",e.containerState.size+1)(l)}function u(l){return e.containerState.furtherBlankLines||!F(l)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,a(l)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,n.attempt(ar,r,a)(l))}function a(l){return e.containerState._closeFlow=!0,e.interrupt=void 0,_(n,n.attempt($,r,t),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function sr(n,r,t){const e=this;return _(n,i,"listItemIndent",e.containerState.size+1);function i(u){const a=e.events[e.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===e.containerState.size?r(u):t(u)}}function cr(n){n.exit(this.containerState.type)}function hr(n,r,t){const e=this;return _(n,i,"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(u){const a=e.events[e.events.length-1];return!F(u)&&a&&a[1].type==="listItemPrefixWhitespace"?r(u):t(u)}}const Xn={name:"setextUnderline",tokenize:fr,resolveTo:pr};function pr(n,r){let t=n.length,e,i,u;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){e=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!u&&n[t][1].type==="definition"&&(u=t);const a={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",u?(n.splice(i,0,["enter",a,r]),n.splice(u+1,0,["exit",n[e][1],r]),n[e][1].end=Object.assign({},n[u][1].end)):n[e][1]=a,n.push(["exit",a,r]),n}function fr(n,r,t){const e=this;let i;return u;function u(c){let m=e.events.length,f;for(;m--;)if(e.events[m][1].type!=="lineEnding"&&e.events[m][1].type!=="linePrefix"&&e.events[m][1].type!=="content"){f=e.events[m][1].type==="paragraph";break}return!e.parser.lazy[e.now().line]&&(e.interrupt||f)?(n.enter("setextHeadingLine"),i=c,a(c)):t(c)}function a(c){return n.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(n.consume(c),l):(n.exit("setextHeadingLineSequence"),F(c)?_(n,p,"lineSuffix")(c):p(c))}function p(c){return c===null||z(c)?(n.exit("setextHeadingLine"),r(c)):t(c)}}const mr={tokenize:xr};function xr(n){const r=this,t=n.attempt(In,e,n.attempt(this.parser.constructs.flowInitial,i,_(n,n.attempt(this.parser.constructs.flow,i,n.attempt(ye,i)),"linePrefix")));return t;function e(u){if(u===null){n.consume(u);return}return n.enter("lineEndingBlank"),n.consume(u),n.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function i(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),r.currentConstruct=void 0,t}}const gr={resolveAll:ft()},kr=pt("string"),dr=pt("text");function pt(n){return{tokenize:r,resolveAll:ft(n==="text"?br:void 0)};function r(t){const e=this,i=this.parser.constructs[n],u=t.attempt(i,a,l);return a;function a(m){return c(m)?u(m):l(m)}function l(m){if(m===null){t.consume(m);return}return t.enter("data"),t.consume(m),p}function p(m){return c(m)?(t.exit("data"),u(m)):(t.consume(m),p)}function c(m){if(m===null)return!0;const f=i[m];let x=-1;if(f)for(;++x<f.length;){const h=f[x];if(!h.previous||h.previous.call(e,e.previous))return!0}return!1}}}function ft(n){return r;function r(t,e){let i=-1,u;for(;++i<=t.length;)u===void 0?t[i]&&t[i][1].type==="data"&&(u=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==u+2&&(t[u][1].end=t[i-1][1].end,t.splice(u+2,i-u-2),i=u+2),u=void 0);return n?n(t,e):t}}function br(n,r){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const e=n[t-1][1],i=r.sliceStream(e);let u=i.length,a=-1,l=0,p;for(;u--;){const c=i[u];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)p=!0,l++;else if(c!==-1){u++;break}}if(l){const c={type:t===n.length||p||l<2?"lineSuffix":"hardBreakTrailing",start:{line:e.end.line,column:e.end.column-l,offset:e.end.offset-l,_index:e.start._index+u,_bufferIndex:u?a:e.start._bufferIndex+a},end:Object.assign({},e.end)};e.end=Object.assign({},c.start),e.start.offset===e.end.offset?Object.assign(e,c):(n.splice(t,0,["enter",c,r],["exit",c,r]),t+=2)}t++}return n}function yr(n,r,t){let e=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},u=[];let a=[],l=[];const p={consume:H,enter:y,exit:M,attempt:L(R),check:L(k),interrupt:L(k,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:h,sliceSerialize:x,now:E,defineSkip:A,write:f};let m=r.tokenize.call(c,p);return r.resolveAll&&u.push(r),c;function f(w){return a=G(a,w),D(),a[a.length-1]!==null?[]:(q(r,0),c.events=Mn(u,c.events,c),c.events)}function x(w,S){return wr(h(w),S)}function h(w){return Sr(a,w)}function E(){const{line:w,column:S,offset:j,_index:N,_bufferIndex:T}=e;return{line:w,column:S,offset:j,_index:N,_bufferIndex:T}}function A(w){i[w.line]=w.column,P()}function D(){let w;for(;e._index<a.length;){const S=a[e._index];if(typeof S=="string")for(w=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===w&&e._bufferIndex<S.length;)b(S.charCodeAt(e._bufferIndex));else b(S)}}function b(w){m=m(w)}function H(w){z(w)?(e.line++,e.column=1,e.offset+=w===-3?2:1,P()):w!==-1&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===a[e._index].length&&(e._bufferIndex=-1,e._index++)),c.previous=w}function y(w,S){const j=S||{};return j.type=w,j.start=E(),c.events.push(["enter",j,c]),l.push(j),j}function M(w){const S=l.pop();return S.end=E(),c.events.push(["exit",S,c]),S}function R(w,S){q(w,S.from)}function k(w,S){S.restore()}function L(w,S){return j;function j(N,T,U){let V,J,rn,o;return Array.isArray(N)?un(N):"tokenize"in N?un([N]):K(N);function K(Q){return kn;function kn(on){const mn=on!==null&&Q[on],pn=on!==null&&Q.null,En=[...Array.isArray(mn)?mn:mn?[mn]:[],...Array.isArray(pn)?pn:pn?[pn]:[]];return un(En)(on)}}function un(Q){return V=Q,J=0,Q.length===0?U:s(Q[J])}function s(Q){return kn;function kn(on){return o=O(),rn=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?hn():Q.tokenize.call(S?Object.assign(Object.create(c),S):c,p,X,hn)(on)}}function X(Q){return w(rn,o),T}function hn(Q){return o.restore(),++J<V.length?s(V[J]):U}}}function q(w,S){w.resolveAll&&!u.includes(w)&&u.push(w),w.resolve&&en(c.events,S,c.events.length-S,w.resolve(c.events.slice(S),c)),w.resolveTo&&(c.events=w.resolveTo(c.events,c))}function O(){const w=E(),S=c.previous,j=c.currentConstruct,N=c.events.length,T=Array.from(l);return{restore:U,from:N};function U(){e=w,c.previous=S,c.currentConstruct=j,c.events.length=N,l=T,P()}}function P(){e.line in i&&e.column<2&&(e.column=i[e.line],e.offset+=i[e.line]-1)}}function Sr(n,r){const t=r.start._index,e=r.start._bufferIndex,i=r.end._index,u=r.end._bufferIndex;let a;if(t===i)a=[n[t].slice(e,u)];else{if(a=n.slice(t,i),e>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(e):a.shift()}u>0&&a.push(n[i].slice(0,u))}return a}function wr(n,r){let t=-1;const e=[];let i;for(;++t<n.length;){const u=n[t];let a;if(typeof u=="string")a=u;else switch(u){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=r?" ":"	";break}case-1:{if(!r&&i)continue;a=" ";break}default:a=String.fromCharCode(u)}i=u===-2,e.push(a)}return e.join("")}const zr={42:$,43:$,45:$,48:$,49:$,50:$,51:$,52:$,53:$,54:$,55:$,56:$,57:$,62:ut},Ir={91:Ce},Cr={[-2]:Fn,[-1]:Fn,32:Fn},Tr={35:Be,42:Sn,45:[Xn,Sn],60:Me,61:Xn,95:Sn,96:Jn,126:Jn},Er={38:lt,92:at},Fr={[-5]:An,[-4]:An,[-3]:An,33:ve,38:lt,42:On,60:[ee,We],91:tr,92:[Ae,at],93:jn,95:On,96:xe},Ar={null:[On,gr]},Lr={null:[42,95]},Br={null:[]},Or=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Lr,contentInitial:Ir,disable:Br,document:zr,flow:Tr,flowInitial:Cr,insideSpan:Ar,string:Er,text:Fr},Symbol.toStringTag,{value:"Module"}));function _r(n){const t=Nt([Or,...(n||{}).extensions||[]]),e={defined:[],lazy:{},constructs:t,content:i(Gt),document:i(Kt),flow:i(mr),string:i(kr),text:i(dr)};return e;function i(u){return a;function a(l){return yr(e,u,l)}}}function Pr(n){for(;!ot(n););return n}const vn=/[\0\t\n\r]/g;function Mr(){let n=1,r="",t=!0,e;return i;function i(u,a,l){const p=[];let c,m,f,x,h;for(u=r+(typeof u=="string"?u.toString():new TextDecoder(a||void 0).decode(u)),f=0,r="",t&&(u.charCodeAt(0)===65279&&f++,t=void 0);f<u.length;){if(vn.lastIndex=f,c=vn.exec(u),x=c&&c.index!==void 0?c.index:u.length,h=u.charCodeAt(x),!c){r=u.slice(f);break}if(h===10&&f===x&&e)p.push(-3),e=void 0;else switch(e&&(p.push(-5),e=void 0),f<x&&(p.push(u.slice(f,x)),n+=x-f),h){case 0:{p.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,p.push(-2);n++<m;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:e=!0,n=1}f=x+1}return l&&(e&&p.push(-5),r&&p.push(r),p.push(null)),p}}const jr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Rr(n){return n.replace(jr,Dr)}function Dr(n,r,t){if(r)return r;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),u=i===120||i===88;return it(t.slice(u?2:1),u?16:10)}return Pn(t)||n}function wn(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?nt(n.position):"start"in n||"end"in n?nt(n):"line"in n||"column"in n?_n(n):""}function _n(n){return tt(n&&n.line)+":"+tt(n&&n.column)}function nt(n){return _n(n&&n.start)+"-"+_n(n&&n.end)}function tt(n){return n&&typeof n=="number"?n:1}const mt={}.hasOwnProperty;function xt(n,r,t){return typeof r!="string"&&(t=r,r=void 0),Hr(t)(Pr(_r(t).document().write(Mr()(n,r,!0))))}function Hr(n){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Nn),autolinkProtocol:O,autolinkEmail:O,atxHeading:u(Dn),blockQuote:u(mn),characterEscape:O,characterReference:O,codeFenced:u(pn),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:u(pn,a),codeText:u(En,a),codeTextData:O,data:O,codeFlowValue:O,definition:u(Et),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:u(Ft),hardBreakEscape:u(Hn),hardBreakTrailing:u(Hn),htmlFlow:u(qn,a),htmlFlowData:O,htmlText:u(qn,a),htmlTextData:O,image:u(At),label:a,link:u(Nn),listItem:u(Lt),listItemValue:x,listOrdered:u(Wn,f),listUnordered:u(Wn),paragraph:u(Bt),reference:s,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:u(Dn),strong:u(Ot),thematicBreak:u(Pt)},exit:{atxHeading:p(),atxHeadingSequence:R,autolink:p(),autolinkEmail:on,autolinkProtocol:kn,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:hn,characterReferenceMarkerNumeric:hn,characterReferenceValue:Q,codeFenced:p(D),codeFencedFence:A,codeFencedFenceInfo:h,codeFencedFenceMeta:E,codeFlowValue:P,codeIndented:p(b),codeText:p(T),codeTextData:P,data:P,definition:p(),definitionDestinationString:M,definitionLabelString:H,definitionTitleString:y,emphasis:p(),hardBreakEscape:p(S),hardBreakTrailing:p(S),htmlFlow:p(j),htmlFlowData:P,htmlText:p(N),htmlTextData:P,image:p(V),label:rn,labelText:J,lineEnding:w,link:p(U),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:X,resourceDestinationString:o,resourceTitleString:K,resource:un,setextHeading:p(q),setextHeadingLineSequence:L,setextHeadingText:k,strong:p(),thematicBreak:p()}};gt(r,(n||{}).mdastExtensions||[]);const t={};return e;function e(g){let d={type:"root",children:[]};const I={stack:[d],tokenStack:[],config:r,enter:l,exit:c,buffer:a,resume:m,data:t},C=[];let B=-1;for(;++B<g.length;)if(g[B][1].type==="listOrdered"||g[B][1].type==="listUnordered")if(g[B][0]==="enter")C.push(B);else{const v=C.pop();B=i(g,v,B)}for(B=-1;++B<g.length;){const v=r[g[B][0]];mt.call(v,g[B][1].type)&&v[g[B][1].type].call(Object.assign({sliceSerialize:g[B][2].sliceSerialize},I),g[B][1])}if(I.tokenStack.length>0){const v=I.tokenStack[I.tokenStack.length-1];(v[1]||et).call(I,void 0,v[0])}for(d.position={start:sn(g.length>0?g[0][1].start:{line:1,column:1,offset:0}),end:sn(g.length>0?g[g.length-2][1].end:{line:1,column:1,offset:0})},B=-1;++B<r.transforms.length;)d=r.transforms[B](d)||d;return d}function i(g,d,I){let C=d-1,B=-1,v=!1,fn,an,dn,bn;for(;++C<=I;){const Y=g[C];switch(Y[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Y[0]==="enter"?B++:B--,bn=void 0;break}case"lineEndingBlank":{Y[0]==="enter"&&(fn&&!bn&&!B&&!dn&&(dn=C),bn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bn=void 0}if(!B&&Y[0]==="enter"&&Y[1].type==="listItemPrefix"||B===-1&&Y[0]==="exit"&&(Y[1].type==="listUnordered"||Y[1].type==="listOrdered")){if(fn){let xn=C;for(an=void 0;xn--;){const ln=g[xn];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;an&&(g[an][1].type="lineEndingBlank",v=!0),ln[1].type="lineEnding",an=xn}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}dn&&(!an||dn<an)&&(fn._spread=!0),fn.end=Object.assign({},an?g[an][1].start:Y[1].end),g.splice(an||C,0,["exit",fn,Y[2]]),C++,I++}if(Y[1].type==="listItemPrefix"){const xn={type:"listItem",_spread:!1,start:Object.assign({},Y[1].start),end:void 0};fn=xn,g.splice(C,0,["enter",xn,Y[2]]),C++,I++,dn=void 0,bn=!0}}}return g[d][1]._spread=v,I}function u(g,d){return I;function I(C){l.call(this,g(C),C),d&&d.call(this,C)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(g,d,I){this.stack[this.stack.length-1].children.push(g),this.stack.push(g),this.tokenStack.push([d,I]),g.position={start:sn(d.start),end:void 0}}function p(g){return d;function d(I){g&&g.call(this,I),c.call(this,I)}}function c(g,d){const I=this.stack.pop(),C=this.tokenStack.pop();if(C)C[0].type!==g.type&&(d?d.call(this,g,C[0]):(C[1]||et).call(this,g,C[0]));else throw new Error("Cannot close `"+g.type+"` ("+wn({start:g.start,end:g.end})+"): itâs not open");I.position.end=sn(g.end)}function m(){return Ht(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function x(g){if(this.data.expectingFirstListItemValue){const d=this.stack[this.stack.length-2];d.start=Number.parseInt(this.sliceSerialize(g),10),this.data.expectingFirstListItemValue=void 0}}function h(){const g=this.resume(),d=this.stack[this.stack.length-1];d.lang=g}function E(){const g=this.resume(),d=this.stack[this.stack.length-1];d.meta=g}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const g=this.resume(),d=this.stack[this.stack.length-1];d.value=g.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const g=this.resume(),d=this.stack[this.stack.length-1];d.value=g.replace(/(\r?\n|\r)$/g,"")}function H(g){const d=this.resume(),I=this.stack[this.stack.length-1];I.label=d,I.identifier=gn(this.sliceSerialize(g)).toLowerCase()}function y(){const g=this.resume(),d=this.stack[this.stack.length-1];d.title=g}function M(){const g=this.resume(),d=this.stack[this.stack.length-1];d.url=g}function R(g){const d=this.stack[this.stack.length-1];if(!d.depth){const I=this.sliceSerialize(g).length;d.depth=I}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function L(g){const d=this.stack[this.stack.length-1];d.depth=this.sliceSerialize(g).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function O(g){const I=this.stack[this.stack.length-1].children;let C=I[I.length-1];(!C||C.type!=="text")&&(C=_t(),C.position={start:sn(g.start),end:void 0},I.push(C)),this.stack.push(C)}function P(g){const d=this.stack.pop();d.value+=this.sliceSerialize(g),d.position.end=sn(g.end)}function w(g){const d=this.stack[this.stack.length-1];if(this.data.atHardBreak){const I=d.children[d.children.length-1];I.position.end=sn(g.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(d.type)&&(O.call(this,g),P.call(this,g))}function S(){this.data.atHardBreak=!0}function j(){const g=this.resume(),d=this.stack[this.stack.length-1];d.value=g}function N(){const g=this.resume(),d=this.stack[this.stack.length-1];d.value=g}function T(){const g=this.resume(),d=this.stack[this.stack.length-1];d.value=g}function U(){const g=this.stack[this.stack.length-1];if(this.data.inReference){const d=this.data.referenceType||"shortcut";g.type+="Reference",g.referenceType=d,delete g.url,delete g.title}else delete g.identifier,delete g.label;this.data.referenceType=void 0}function V(){const g=this.stack[this.stack.length-1];if(this.data.inReference){const d=this.data.referenceType||"shortcut";g.type+="Reference",g.referenceType=d,delete g.url,delete g.title}else delete g.identifier,delete g.label;this.data.referenceType=void 0}function J(g){const d=this.sliceSerialize(g),I=this.stack[this.stack.length-2];I.label=Rr(d),I.identifier=gn(d).toLowerCase()}function rn(){const g=this.stack[this.stack.length-1],d=this.resume(),I=this.stack[this.stack.length-1];if(this.data.inReference=!0,I.type==="link"){const C=g.children;I.children=C}else I.alt=d}function o(){const g=this.resume(),d=this.stack[this.stack.length-1];d.url=g}function K(){const g=this.resume(),d=this.stack[this.stack.length-1];d.title=g}function un(){this.data.inReference=void 0}function s(){this.data.referenceType="collapsed"}function X(g){const d=this.resume(),I=this.stack[this.stack.length-1];I.label=d,I.identifier=gn(this.sliceSerialize(g)).toLowerCase(),this.data.referenceType="full"}function hn(g){this.data.characterReferenceType=g.type}function Q(g){const d=this.sliceSerialize(g),I=this.data.characterReferenceType;let C;I?(C=it(d,I==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):C=Pn(d);const B=this.stack.pop();B.value+=C,B.position.end=sn(g.end)}function kn(g){P.call(this,g);const d=this.stack[this.stack.length-1];d.url=this.sliceSerialize(g)}function on(g){P.call(this,g);const d=this.stack[this.stack.length-1];d.url="mailto:"+this.sliceSerialize(g)}function mn(){return{type:"blockquote",children:[]}}function pn(){return{type:"code",lang:null,meta:null,value:""}}function En(){return{type:"inlineCode",value:""}}function Et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ft(){return{type:"emphasis",children:[]}}function Dn(){return{type:"heading",depth:0,children:[]}}function Hn(){return{type:"break"}}function qn(){return{type:"html",value:""}}function At(){return{type:"image",title:null,url:"",alt:null}}function Nn(){return{type:"link",title:null,url:"",children:[]}}function Wn(g){return{type:"list",ordered:g.type==="listOrdered",start:null,spread:g._spread,children:[]}}function Lt(g){return{type:"listItem",spread:g._spread,checked:null,children:[]}}function Bt(){return{type:"paragraph",children:[]}}function Ot(){return{type:"strong",children:[]}}function _t(){return{type:"text",value:""}}function Pt(){return{type:"thematicBreak"}}}function sn(n){return{line:n.line,column:n.column,offset:n.offset}}function gt(n,r){let t=-1;for(;++t<r.length;){const e=r[t];Array.isArray(e)?gt(n,e):qr(n,e)}}function qr(n,r){let t;for(t in r)if(mt.call(r,t))switch(t){case"canContainEols":{const e=r[t];e&&n[t].push(...e);break}case"transforms":{const e=r[t];e&&n[t].push(...e);break}case"enter":case"exit":{const e=r[t];e&&Object.assign(n[t],e);break}}}function et(n,r){throw n?new Error("Cannot close `"+n.type+"` ("+wn({start:n.start,end:n.end})+"): a different token (`"+r.type+"`, "+wn({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+wn({start:r.start,end:r.end})+") is still open")}function kt(n,{markdownAutoWrap:r}){const t=n.replace(/\n{2,}/g,`
`),e=Mt(t);return r===!1?e.replace(/ /g,"&nbsp;"):e}W(kt,"preprocessMarkdown");function dt(n,r={}){const t=kt(n,r),{children:e}=xt(t),i=[[]];let u=0;function a(l,p="normal"){l.type==="text"?l.value.split(`
`).forEach((m,f)=>{f!==0&&(u++,i.push([])),m.split(" ").forEach(x=>{x&&i[u].push({content:x,type:p})})}):(l.type==="strong"||l.type==="emphasis")&&l.children.forEach(c=>{a(c,l.type)})}return W(a,"processNode"),e.forEach(l=>{l.type==="paragraph"&&l.children.forEach(p=>{a(p)})}),i}W(dt,"markdownToLines");function bt(n,{markdownAutoWrap:r}={}){const{children:t}=xt(n);function e(i){return i.type==="text"?r===!1?i.value.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;"):i.value.replace(/\n/g,"<br/>"):i.type==="strong"?`<strong>${i.children.map(e).join("")}</strong>`:i.type==="emphasis"?`<em>${i.children.map(e).join("")}</em>`:i.type==="paragraph"?`<p>${i.children.map(e).join("")}</p>`:`Unsupported markdown: ${i.type}`}return W(e,"output"),t.map(e).join("")}W(bt,"markdownToHTML");function yt(n){return Intl.Segmenter?[...new Intl.Segmenter().segment(n)].map(r=>r.segment):[...n]}W(yt,"splitTextToChars");function St(n,r){const t=yt(r.content);return Rn(n,[],t,r.type)}W(St,"splitWordToFitWidth");function Rn(n,r,t,e){if(t.length===0)return[{content:r.join(""),type:e},{content:"",type:e}];const[i,...u]=t,a=[...r,i];return n([{content:a.join(""),type:e}])?Rn(n,a,u,e):(r.length===0&&i&&(r.push(i),t.shift()),[{content:r.join(""),type:e},{content:t.join(""),type:e}])}W(Rn,"splitWordToFitWidthRecursion");function wt(n,r){if(n.some(({content:t})=>t.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return zn(n,r)}W(wt,"splitLineToFitWidth");function zn(n,r,t=[],e=[]){if(n.length===0)return e.length>0&&t.push(e),t.length>0?t:[];let i="";n[0].content===" "&&(i=" ",n.shift());const u=n.shift()??{content:" ",type:"normal"},a=[...e];if(i!==""&&a.push({content:i,type:"normal"}),a.push(u),r(a))return zn(n,r,t,a);if(e.length>0)t.push(e),n.unshift(u);else if(u.content){const[l,p]=St(r,u);t.push([l]),p.content&&n.unshift(p)}return zn(n,r,t)}W(zn,"splitLineToFitWidthRecursion");function zt(n,r){r&&n.attr("style",r)}W(zt,"applyStyle");function It(n,r,t,e,i=!1){const u=n.append("foreignObject"),a=u.append("xhtml:div"),l=r.label,p=r.isNode?"nodeLabel":"edgeLabel";a.html(`<span class="${p} ${e}" `+(r.labelStyle?'style="'+r.labelStyle+'"':"")+">"+l+"</span>"),zt(a,r.labelStyle),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("max-width",t+"px"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&a.attr("class","labelBkg");let c=a.node().getBoundingClientRect();return c.width===t&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",t+"px"),c=a.node().getBoundingClientRect()),u.style("width",c.width),u.style("height",c.height),u.node()}W(It,"addHtmlSpan");function Cn(n,r,t){return n.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",r*t-.1+"em").attr("dy",t+"em")}W(Cn,"createTspan");function Ct(n,r,t){const e=n.append("text"),i=Cn(e,1,r);Tn(i,t);const u=i.node().getComputedTextLength();return e.remove(),u}W(Ct,"computeWidthOfText");function Nr(n,r,t){var a;const e=n.append("text"),i=Cn(e,1,r);Tn(i,[{content:t,type:"normal"}]);const u=(a=i.node())==null?void 0:a.getBoundingClientRect();return u&&e.remove(),u}W(Nr,"computeDimensionOfText");function Tt(n,r,t,e=!1){const u=r.append("g"),a=u.insert("rect").attr("class","background"),l=u.append("text").attr("y","-10.1");let p=0;for(const c of t){const m=W(x=>Ct(u,1.1,x)<=n,"checkWidth"),f=m(c)?[c]:wt(c,m);for(const x of f){const h=Cn(l,p,1.1);Tn(h,x),p++}}if(e){const c=l.node().getBBox(),m=2;return a.attr("x",-m).attr("y",-m).attr("width",c.width+2*m).attr("height",c.height+2*m),u.node()}else return l.node()}W(Tt,"createFormattedText");function Tn(n,r){n.text(""),r.forEach((t,e)=>{const i=n.append("tspan").attr("font-style",t.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");e===0?i.text(t.content):i.text(" "+t.content)})}W(Tn,"updateTextContentAndStyles");var Vr=W((n,r="",{style:t="",isTitle:e=!1,classes:i="",useHtmlLabels:u=!0,isNode:a=!0,width:l=200,addSvgBackground:p=!1}={},c)=>{if(jt.info("createText",r,t,e,i,u,a,p),u){const m=bt(r,c),f={isNode:a,label:Rt(m).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return It(n,f,l,i,p)}else{const m=dt(r,c);return Tt(l,n,m,p)}},"createText");export{Nr as a,Vr as c};
