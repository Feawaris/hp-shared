import{c as nt}from"./chunk-QOU2KDNW-CVSlj5H4.js";import{_ as p,d as M,l as u,p as I,A as j,al as xt,am as V,i as P}from"./mermaid.core-BbAB7Mfr.js";import{d as B}from"./transform-Dgtl54Jv.js";import{l as gt}from"./line-C-BDIhxs.js";import{c as ut}from"./graph-D4Kt9lQ6.js";var bt=p((a,t,e,i)=>{t.forEach(l=>{Et[l](a,e,i)})},"insertMarkers"),wt=p((a,t,e)=>{u.trace("Making markers for ",e),a.append("defs").append("marker").attr("id",e+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),a.append("defs").append("marker").attr("id",e+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),mt=p((a,t,e)=>{a.append("defs").append("marker").attr("id",e+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",e+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),vt=p((a,t,e)=>{a.append("defs").append("marker").attr("id",e+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",e+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),kt=p((a,t,e)=>{a.append("defs").append("marker").attr("id",e+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",e+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Lt=p((a,t,e)=>{a.append("defs").append("marker").attr("id",e+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),a.append("defs").append("marker").attr("id",e+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),St=p((a,t,e)=>{a.append("marker").attr("id",e+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),a.append("marker").attr("id",e+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Mt=p((a,t,e)=>{a.append("marker").attr("id",e+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),a.append("marker").attr("id",e+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),_t=p((a,t,e)=>{a.append("marker").attr("id",e+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),a.append("marker").attr("id",e+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Tt=p((a,t,e)=>{a.append("defs").append("marker").attr("id",e+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Et={extension:wt,composition:mt,aggregation:vt,dependency:kt,lollipop:Lt,point:St,circle:Mt,cross:_t,barb:Tt},wr=bt;function lt(a,t){t&&a.attr("style",t)}p(lt,"applyStyle");function ct(a){const t=B(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),e=t.append("xhtml:div"),i=a.label,l=a.isNode?"nodeLabel":"edgeLabel";return e.html('<span class="'+l+'" '+(a.labelStyle?'style="'+a.labelStyle+'"':"")+">"+i+"</span>"),lt(e,a.labelStyle),e.style("display","inline-block"),e.style("white-space","nowrap"),e.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}p(ct,"addHtmlLabel");var Bt=p((a,t,e,i)=>{let l=a||"";if(typeof l=="object"&&(l=l[0]),I(M().flowchart.htmlLabels)){l=l.replace(/\\n|\n/g,"<br />"),u.debug("vertexText"+l);const r={isNode:i,label:V(l).replace(/fa[blrs]?:fa-[\w-]+/g,n=>`<i class='${n.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return ct(r)}else{const r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof l=="string"?s=l.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(l)?s=l:s=[];for(const n of s){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),e?c.setAttribute("class","title-row"):c.setAttribute("class","row"),c.textContent=n.trim(),r.appendChild(c)}return r}},"createLabel"),R=Bt,_=p(async(a,t,e,i)=>{const l=M();let r;const s=t.useHtmlLabels||I(l.flowchart.htmlLabels);e?r=e:r="node default";const n=a.insert("g").attr("class",r).attr("id",t.domId||t.id),c=n.insert("g").attr("class","label").attr("style",t.labelStyle);let o;t.labelText===void 0?o="":o=typeof t.labelText=="string"?t.labelText:t.labelText[0];const h=c.node();let y;t.labelType==="markdown"?y=nt(c,P(V(o),l),{useHtmlLabels:s,width:t.width||l.flowchart.wrappingWidth,classes:"markdown-node-label"},l):y=h.appendChild(R(P(V(o),l),t.labelStyle,!1,i));let f=y.getBBox();const d=t.padding/2;if(I(l.flowchart.htmlLabels)){const g=y.children[0],v=B(y),x=g.getElementsByTagName("img");if(x){const T=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(b=>new Promise(C=>{function S(){if(b.style.display="flex",b.style.flexDirection="column",T){const W=l.fontSize?l.fontSize:window.getComputedStyle(document.body).fontSize,F=parseInt(W,10)*5+"px";b.style.minWidth=F,b.style.maxWidth=F}else b.style.width="100%";C(b)}p(S,"setupImage"),setTimeout(()=>{b.complete&&S()}),b.addEventListener("error",S),b.addEventListener("load",S)})))}f=g.getBoundingClientRect(),v.attr("width",f.width),v.attr("height",f.height)}return s?c.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):c.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&c.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),c.insert("rect",":first-child"),{shapeSvg:n,bbox:f,halfPadding:d,label:c}},"labelHelper"),m=p((a,t)=>{const e=t.node().getBBox();a.width=e.width,a.height=e.height},"updateNodeBounds");function H(a,t,e,i){return a.insert("polygon",":first-child").attr("points",i.map(function(l){return l.x+","+l.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+e/2+")")}p(H,"insertPolygonShape");function ht(a,t){return a.intersect(t)}p(ht,"intersectNode");var Ct=ht;function ot(a,t,e,i){var l=a.x,r=a.y,s=l-i.x,n=r-i.y,c=Math.sqrt(t*t*n*n+e*e*s*s),o=Math.abs(t*e*s/c);i.x<l&&(o=-o);var h=Math.abs(t*e*n/c);return i.y<r&&(h=-h),{x:l+o,y:r+h}}p(ot,"intersectEllipse");var pt=ot;function yt(a,t,e){return pt(a,t,t,e)}p(yt,"intersectCircle");var $t=yt;function ft(a,t,e,i){var l,r,s,n,c,o,h,y,f,d,g,v,x,T,b;if(l=t.y-a.y,s=a.x-t.x,c=t.x*a.y-a.x*t.y,f=l*e.x+s*e.y+c,d=l*i.x+s*i.y+c,!(f!==0&&d!==0&&K(f,d))&&(r=i.y-e.y,n=e.x-i.x,o=i.x*e.y-e.x*i.y,h=r*a.x+n*a.y+o,y=r*t.x+n*t.y+o,!(h!==0&&y!==0&&K(h,y))&&(g=l*n-r*s,g!==0)))return v=Math.abs(g/2),x=s*o-n*c,T=x<0?(x-v)/g:(x+v)/g,x=r*c-l*o,b=x<0?(x-v)/g:(x+v)/g,{x:T,y:b}}p(ft,"intersectLine");function K(a,t){return a*t>0}p(K,"sameSign");var Nt=ft,Rt=dt;function dt(a,t,e){var i=a.x,l=a.y,r=[],s=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(g){s=Math.min(s,g.x),n=Math.min(n,g.y)}):(s=Math.min(s,t.x),n=Math.min(n,t.y));for(var c=i-a.width/2-s,o=l-a.height/2-n,h=0;h<t.length;h++){var y=t[h],f=t[h<t.length-1?h+1:0],d=Nt(a,e,{x:c+y.x,y:o+y.y},{x:c+f.x,y:o+f.y});d&&r.push(d)}return r.length?(r.length>1&&r.sort(function(g,v){var x=g.x-e.x,T=g.y-e.y,b=Math.sqrt(x*x+T*T),C=v.x-e.x,S=v.y-e.y,W=Math.sqrt(C*C+S*S);return b<W?-1:b===W?0:1}),r[0]):a}p(dt,"intersectPolygon");var Ht=p((a,t)=>{var e=a.x,i=a.y,l=t.x-e,r=t.y-i,s=a.width/2,n=a.height/2,c,o;return Math.abs(r)*s>Math.abs(l)*n?(r<0&&(n=-n),c=r===0?0:n*l/r,o=n):(l<0&&(s=-s),c=s,o=l===0?0:s*r/l),{x:e+c,y:i+o}},"intersectRect"),It=Ht,w={node:Ct,circle:$t,ellipse:pt,polygon:Rt,rect:It},At=p(async(a,t)=>{t.useHtmlLabels||M().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:i,bbox:l,halfPadding:r}=await _(a,t,"node "+t.classes,!0);u.info("Classes = ",t.classes);const s=i.insert("rect",":first-child");return s.attr("rx",t.rx).attr("ry",t.ry).attr("x",-l.width/2-r).attr("y",-l.height/2-r).attr("width",l.width+t.padding).attr("height",l.height+t.padding),m(t,s),t.intersect=function(n){return w.rect(t,n)},i},"note"),Ot=At,Wt=p(a=>{const t=new Set;for(const e of a)switch(e){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(e);break}return t},"expandAndDeduplicateDirections"),Dt=p((a,t,e)=>{const i=Wt(a),l=2,r=t.height+2*e.padding,s=r/l,n=t.width+2*s+e.padding,c=e.padding/2;return i.has("right")&&i.has("left")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:s,y:0},{x:n/2,y:2*c},{x:n-s,y:0},{x:n,y:0},{x:n,y:-r/3},{x:n+2*c,y:-r/2},{x:n,y:-2*r/3},{x:n,y:-r},{x:n-s,y:-r},{x:n/2,y:-r-2*c},{x:s,y:-r},{x:0,y:-r},{x:0,y:-2*r/3},{x:-2*c,y:-r/2},{x:0,y:-r/3}]:i.has("right")&&i.has("left")&&i.has("up")?[{x:s,y:0},{x:n-s,y:0},{x:n,y:-r/2},{x:n-s,y:-r},{x:s,y:-r},{x:0,y:-r/2}]:i.has("right")&&i.has("left")&&i.has("down")?[{x:0,y:0},{x:s,y:-r},{x:n-s,y:-r},{x:n,y:0}]:i.has("right")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:n,y:-s},{x:n,y:-r+s},{x:0,y:-r}]:i.has("left")&&i.has("up")&&i.has("down")?[{x:n,y:0},{x:0,y:-s},{x:0,y:-r+s},{x:n,y:-r}]:i.has("right")&&i.has("left")?[{x:s,y:0},{x:s,y:-c},{x:n-s,y:-c},{x:n-s,y:0},{x:n,y:-r/2},{x:n-s,y:-r},{x:n-s,y:-r+c},{x:s,y:-r+c},{x:s,y:-r},{x:0,y:-r/2}]:i.has("up")&&i.has("down")?[{x:n/2,y:0},{x:0,y:-c},{x:s,y:-c},{x:s,y:-r+c},{x:0,y:-r+c},{x:n/2,y:-r},{x:n,y:-r+c},{x:n-s,y:-r+c},{x:n-s,y:-c},{x:n,y:-c}]:i.has("right")&&i.has("up")?[{x:0,y:0},{x:n,y:-s},{x:0,y:-r}]:i.has("right")&&i.has("down")?[{x:0,y:0},{x:n,y:0},{x:0,y:-r}]:i.has("left")&&i.has("up")?[{x:n,y:0},{x:0,y:-s},{x:n,y:-r}]:i.has("left")&&i.has("down")?[{x:n,y:0},{x:0,y:0},{x:n,y:-r}]:i.has("right")?[{x:s,y:-c},{x:s,y:-c},{x:n-s,y:-c},{x:n-s,y:0},{x:n,y:-r/2},{x:n-s,y:-r},{x:n-s,y:-r+c},{x:s,y:-r+c},{x:s,y:-r+c}]:i.has("left")?[{x:s,y:0},{x:s,y:-c},{x:n-s,y:-c},{x:n-s,y:-r+c},{x:s,y:-r+c},{x:s,y:-r},{x:0,y:-r/2}]:i.has("up")?[{x:s,y:-c},{x:s,y:-r+c},{x:0,y:-r+c},{x:n/2,y:-r},{x:n,y:-r+c},{x:n-s,y:-r+c},{x:n-s,y:-c}]:i.has("down")?[{x:n/2,y:0},{x:0,y:-c},{x:s,y:-c},{x:s,y:-r+c},{x:n-s,y:-r+c},{x:n-s,y:-c},{x:n,y:-c}]:[{x:0,y:0}]},"getArrowPoints"),tt=p(a=>a?" "+a:"","formatClass"),N=p((a,t)=>`${t||"node default"}${tt(a.classes)} ${tt(a.class)}`,"getClassesFromNode"),rt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=l+r,n=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];u.info("Question main (Circle)");const c=H(e,s,s,n);return c.attr("style",t.style),m(t,c),t.intersect=function(o){return u.warn("Intersect called"),w.polygon(t,n,o)},e},"question"),Xt=p((a,t)=>{const e=a.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=28,l=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return e.insert("polygon",":first-child").attr("points",l.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(s){return w.circle(t,14,s)},e},"choice"),Yt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=4,r=i.height+t.padding,s=r/l,n=i.width+2*s+t.padding,c=[{x:s,y:0},{x:n-s,y:0},{x:n,y:-r/2},{x:n-s,y:-r},{x:s,y:-r},{x:0,y:-r/2}],o=H(e,n,r,c);return o.attr("style",t.style),m(t,o),t.intersect=function(h){return w.polygon(t,c,h)},e},"hexagon"),jt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,void 0,!0),l=2,r=i.height+2*t.padding,s=r/l,n=i.width+2*s+t.padding,c=Dt(t.directions,i,t),o=H(e,n,r,c);return o.attr("style",t.style),m(t,o),t.intersect=function(h){return w.polygon(t,c,h)},e},"block_arrow"),Ut=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:-r/2,y:0},{x:l,y:0},{x:l,y:-r},{x:-r/2,y:-r},{x:0,y:-r/2}];return H(e,l,r,s).attr("style",t.style),t.width=l+r,t.height=r,t.intersect=function(c){return w.polygon(t,s,c)},e},"rect_left_inv_arrow"),zt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:-2*r/6,y:0},{x:l-r/6,y:0},{x:l+2*r/6,y:-r},{x:r/6,y:-r}],n=H(e,l,r,s);return n.attr("style",t.style),m(t,n),t.intersect=function(c){return w.polygon(t,s,c)},e},"lean_right"),Ft=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:2*r/6,y:0},{x:l+r/6,y:0},{x:l-2*r/6,y:-r},{x:-r/6,y:-r}],n=H(e,l,r,s);return n.attr("style",t.style),m(t,n),t.intersect=function(c){return w.polygon(t,s,c)},e},"lean_left"),Gt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:-2*r/6,y:0},{x:l+2*r/6,y:0},{x:l-r/6,y:-r},{x:r/6,y:-r}],n=H(e,l,r,s);return n.attr("style",t.style),m(t,n),t.intersect=function(c){return w.polygon(t,s,c)},e},"trapezoid"),Zt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:r/6,y:0},{x:l-r/6,y:0},{x:l+2*r/6,y:-r},{x:-2*r/6,y:-r}],n=H(e,l,r,s);return n.attr("style",t.style),m(t,n),t.intersect=function(c){return w.polygon(t,s,c)},e},"inv_trapezoid"),qt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:0,y:0},{x:l+r/2,y:0},{x:l,y:-r/2},{x:l+r/2,y:-r},{x:0,y:-r}],n=H(e,l,r,s);return n.attr("style",t.style),m(t,n),t.intersect=function(c){return w.polygon(t,s,c)},e},"rect_right_inv_arrow"),Jt=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=l/2,s=r/(2.5+l/50),n=i.height+s+t.padding,c="M 0,"+s+" a "+r+","+s+" 0,0,0 "+l+" 0 a "+r+","+s+" 0,0,0 "+-l+" 0 l 0,"+n+" a "+r+","+s+" 0,0,0 "+l+" 0 l 0,"+-n,o=e.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-l/2+","+-(n/2+s)+")");return m(t,o),t.intersect=function(h){const y=w.rect(t,h),f=y.x-t.x;if(r!=0&&(Math.abs(f)<t.width/2||Math.abs(f)==t.width/2&&Math.abs(y.y-t.y)>t.height/2-s)){let d=s*s*(1-f*f/(r*r));d!=0&&(d=Math.sqrt(d)),d=s-d,h.y-t.y>0&&(d=-d),y.y+=d}return y},e},"cylinder"),Qt=p(async(a,t)=>{const{shapeSvg:e,bbox:i,halfPadding:l}=await _(a,t,"node "+t.classes+" "+t.class,!0),r=e.insert("rect",":first-child"),s=t.positioned?t.width:i.width+t.padding,n=t.positioned?t.height:i.height+t.padding,c=t.positioned?-s/2:-i.width/2-l,o=t.positioned?-n/2:-i.height/2-l;if(r.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",c).attr("y",o).attr("width",s).attr("height",n),t.props){const h=new Set(Object.keys(t.props));t.props.borders&&(q(r,t.props.borders,s,n),h.delete("borders")),h.forEach(y=>{u.warn(`Unknown node property ${y}`)})}return m(t,r),t.intersect=function(h){return w.rect(t,h)},e},"rect"),Vt=p(async(a,t)=>{const{shapeSvg:e,bbox:i,halfPadding:l}=await _(a,t,"node "+t.classes,!0),r=e.insert("rect",":first-child"),s=t.positioned?t.width:i.width+t.padding,n=t.positioned?t.height:i.height+t.padding,c=t.positioned?-s/2:-i.width/2-l,o=t.positioned?-n/2:-i.height/2-l;if(r.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",c).attr("y",o).attr("width",s).attr("height",n),t.props){const h=new Set(Object.keys(t.props));t.props.borders&&(q(r,t.props.borders,s,n),h.delete("borders")),h.forEach(y=>{u.warn(`Unknown node property ${y}`)})}return m(t,r),t.intersect=function(h){return w.rect(t,h)},e},"composite"),Kt=p(async(a,t)=>{const{shapeSvg:e}=await _(a,t,"label",!0);u.trace("Classes = ",t.class);const i=e.insert("rect",":first-child"),l=0,r=0;if(i.attr("width",l).attr("height",r),e.attr("class","label edgeLabel"),t.props){const s=new Set(Object.keys(t.props));t.props.borders&&(q(i,t.props.borders,l,r),s.delete("borders")),s.forEach(n=>{u.warn(`Unknown node property ${n}`)})}return m(t,i),t.intersect=function(s){return w.rect(t,s)},e},"labelRect");function q(a,t,e,i){const l=[],r=p(n=>{l.push(n,0)},"addBorder"),s=p(n=>{l.push(0,n)},"skipBorder");t.includes("t")?(u.debug("add top border"),r(e)):s(e),t.includes("r")?(u.debug("add right border"),r(i)):s(i),t.includes("b")?(u.debug("add bottom border"),r(e)):s(e),t.includes("l")?(u.debug("add left border"),r(i)):s(i),a.attr("stroke-dasharray",l.join(" "))}p(q,"applyNodePropertyBorders");var Pt=p((a,t)=>{let e;t.classes?e="node "+t.classes:e="node default";const i=a.insert("g").attr("class",e).attr("id",t.domId||t.id),l=i.insert("rect",":first-child"),r=i.insert("line"),s=i.insert("g").attr("class","label"),n=t.labelText.flat?t.labelText.flat():t.labelText;let c="";typeof n=="object"?c=n[0]:c=n,u.info("Label text abc79",c,n,typeof n=="object");const o=s.node().appendChild(R(c,t.labelStyle,!0,!0));let h={width:0,height:0};if(I(M().flowchart.htmlLabels)){const v=o.children[0],x=B(o);h=v.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}u.info("Text 2",n);const y=n.slice(1,n.length);let f=o.getBBox();const d=s.node().appendChild(R(y.join?y.join("<br/>"):y,t.labelStyle,!0,!0));if(I(M().flowchart.htmlLabels)){const v=d.children[0],x=B(d);h=v.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}const g=t.padding/2;return B(d).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+g+5)+")"),B(o).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", 0)"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-g+3)+")"),l.attr("class","outer title-state").attr("x",-h.width/2-g).attr("y",-h.height/2-g).attr("width",h.width+t.padding).attr("height",h.height+t.padding),r.attr("class","divider").attr("x1",-h.width/2-g).attr("x2",h.width/2+g).attr("y1",-h.height/2-g+f.height+g).attr("y2",-h.height/2-g+f.height+g),m(t,l),t.intersect=function(v){return w.rect(t,v)},i},"rectWithTitle"),tr=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.height+t.padding,r=i.width+l/4+t.padding,s=e.insert("rect",":first-child").attr("style",t.style).attr("rx",l/2).attr("ry",l/2).attr("x",-r/2).attr("y",-l/2).attr("width",r).attr("height",l);return m(t,s),t.intersect=function(n){return w.rect(t,n)},e},"stadium"),rr=p(async(a,t)=>{const{shapeSvg:e,bbox:i,halfPadding:l}=await _(a,t,N(t,void 0),!0),r=e.insert("circle",":first-child");return r.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+l).attr("width",i.width+t.padding).attr("height",i.height+t.padding),u.info("Circle main"),m(t,r),t.intersect=function(s){return u.info("Circle intersect",t,i.width/2+l,s),w.circle(t,i.width/2+l,s)},e},"circle"),ar=p(async(a,t)=>{const{shapeSvg:e,bbox:i,halfPadding:l}=await _(a,t,N(t,void 0),!0),r=5,s=e.insert("g",":first-child"),n=s.insert("circle"),c=s.insert("circle");return s.attr("class",t.class),n.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+l+r).attr("width",i.width+t.padding+r*2).attr("height",i.height+t.padding+r*2),c.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+l).attr("width",i.width+t.padding).attr("height",i.height+t.padding),u.info("DoubleCircle main"),m(t,n),t.intersect=function(o){return u.info("DoubleCircle intersect",t,i.width/2+l+r,o),w.circle(t,i.width/2+l+r,o)},e},"doublecircle"),er=p(async(a,t)=>{const{shapeSvg:e,bbox:i}=await _(a,t,N(t,void 0),!0),l=i.width+t.padding,r=i.height+t.padding,s=[{x:0,y:0},{x:l,y:0},{x:l,y:-r},{x:0,y:-r},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-r},{x:-8,y:-r},{x:-8,y:0}],n=H(e,l,r,s);return n.attr("style",t.style),m(t,n),t.intersect=function(c){return w.polygon(t,s,c)},e},"subroutine"),sr=p((a,t)=>{const e=a.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=e.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),m(t,i),t.intersect=function(l){return w.circle(t,7,l)},e},"start"),at=p((a,t,e)=>{const i=a.insert("g").attr("class","node default").attr("id",t.domId||t.id);let l=70,r=10;e==="LR"&&(l=10,r=70);const s=i.append("rect").attr("x",-1*l/2).attr("y",-1*r/2).attr("width",l).attr("height",r).attr("class","fork-join");return m(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(n){return w.rect(t,n)},i},"forkJoin"),ir=p((a,t)=>{const e=a.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=e.insert("circle",":first-child"),l=e.insert("circle",":first-child");return l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),m(t,l),t.intersect=function(r){return w.circle(t,7,r)},e},"end"),nr=p((a,t)=>{const e=t.padding/2,i=4,l=8;let r;t.classes?r="node "+t.classes:r="node default";const s=a.insert("g").attr("class",r).attr("id",t.domId||t.id),n=s.insert("rect",":first-child"),c=s.insert("line"),o=s.insert("line");let h=0,y=i;const f=s.insert("g").attr("class","label");let d=0;const g=t.classData.annotations&&t.classData.annotations[0],v=t.classData.annotations[0]?"«"+t.classData.annotations[0]+"»":"",x=f.node().appendChild(R(v,t.labelStyle,!0,!0));let T=x.getBBox();if(I(M().flowchart.htmlLabels)){const k=x.children[0],L=B(x);T=k.getBoundingClientRect(),L.attr("width",T.width),L.attr("height",T.height)}t.classData.annotations[0]&&(y+=T.height+i,h+=T.width);let b=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(M().flowchart.htmlLabels?b+="&lt;"+t.classData.type+"&gt;":b+="<"+t.classData.type+">");const C=f.node().appendChild(R(b,t.labelStyle,!0,!0));B(C).attr("class","classTitle");let S=C.getBBox();if(I(M().flowchart.htmlLabels)){const k=C.children[0],L=B(C);S=k.getBoundingClientRect(),L.attr("width",S.width),L.attr("height",S.height)}y+=S.height+i,S.width>h&&(h=S.width);const W=[];t.classData.members.forEach(k=>{const L=k.getDisplayDetails();let D=L.displayText;M().flowchart.htmlLabels&&(D=D.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const A=f.node().appendChild(R(D,L.cssStyle?L.cssStyle:t.labelStyle,!0,!0));let $=A.getBBox();if(I(M().flowchart.htmlLabels)){const Q=A.children[0],Y=B(A);$=Q.getBoundingClientRect(),Y.attr("width",$.width),Y.attr("height",$.height)}$.width>h&&(h=$.width),y+=$.height+i,W.push(A)}),y+=l;const J=[];if(t.classData.methods.forEach(k=>{const L=k.getDisplayDetails();let D=L.displayText;M().flowchart.htmlLabels&&(D=D.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const A=f.node().appendChild(R(D,L.cssStyle?L.cssStyle:t.labelStyle,!0,!0));let $=A.getBBox();if(I(M().flowchart.htmlLabels)){const Q=A.children[0],Y=B(A);$=Q.getBoundingClientRect(),Y.attr("width",$.width),Y.attr("height",$.height)}$.width>h&&(h=$.width),y+=$.height+i,J.push(A)}),y+=l,g){let k=(h-T.width)/2;B(x).attr("transform","translate( "+(-1*h/2+k)+", "+-1*y/2+")"),d=T.height+i}let F=(h-S.width)/2;return B(C).attr("transform","translate( "+(-1*h/2+F)+", "+(-1*y/2+d)+")"),d+=S.height+i,c.attr("class","divider").attr("x1",-h/2-e).attr("x2",h/2+e).attr("y1",-y/2-e+l+d).attr("y2",-y/2-e+l+d),d+=l,W.forEach(k=>{B(k).attr("transform","translate( "+-h/2+", "+(-1*y/2+d+l/2)+")");const L=k==null?void 0:k.getBBox();d+=((L==null?void 0:L.height)??0)+i}),d+=l,o.attr("class","divider").attr("x1",-h/2-e).attr("x2",h/2+e).attr("y1",-y/2-e+l+d).attr("y2",-y/2-e+l+d),d+=l,J.forEach(k=>{B(k).attr("transform","translate( "+-h/2+", "+(-1*y/2+d)+")");const L=k==null?void 0:k.getBBox();d+=((L==null?void 0:L.height)??0)+i}),n.attr("style",t.style).attr("class","outer title-state").attr("x",-h/2-e).attr("y",-(y/2)-e).attr("width",h+t.padding).attr("height",y+t.padding),m(t,n),t.intersect=function(k){return w.rect(t,k)},s},"class_box"),et={rhombus:rt,composite:Vt,question:rt,rect:Qt,labelRect:Kt,rectWithTitle:Pt,choice:Xt,circle:rr,doublecircle:ar,stadium:tr,hexagon:Yt,block_arrow:jt,rect_left_inv_arrow:Ut,lean_right:zt,lean_left:Ft,trapezoid:Gt,inv_trapezoid:Zt,rect_right_inv_arrow:qt,cylinder:Jt,start:sr,end:ir,note:Ot,subroutine:er,fork:at,join:at,class_box:nr},X={},mr=p(async(a,t,e)=>{let i,l;if(t.link){let r;M().securityLevel==="sandbox"?r="_top":t.linkTarget&&(r=t.linkTarget||"_blank"),i=a.insert("svg:a").attr("xlink:href",t.link).attr("target",r),l=await et[t.shape](i,t,e)}else l=await et[t.shape](a,t,e),i=l;return t.tooltip&&l.attr("title",t.tooltip),t.class&&l.attr("class","node default "+t.class),i.attr("data-node","true"),i.attr("data-id",t.id),X[t.id]=i,t.haveCallback&&X[t.id].attr("class",X[t.id].attr("class")+" clickable"),i},"insertNode"),vr=p((a,t)=>{X[t.id]=a},"setNodeElem"),kr=p(()=>{X={}},"clear"),Lr=p(a=>{const t=X[a.id];u.trace("Transforming node",a.diff,a,"translate("+(a.x-a.width/2-5)+", "+a.width/2+")");const e=8,i=a.diff||0;return a.clusterNode?t.attr("transform","translate("+(a.x+i-a.width/2)+", "+(a.y-a.height/2-e)+")"):t.attr("transform","translate("+a.x+", "+a.y+")"),i},"positionNode"),lr=p(({flowchart:a})=>{var l,r;const t=((l=a==null?void 0:a.subGraphTitleMargin)==null?void 0:l.top)??0,e=((r=a==null?void 0:a.subGraphTitleMargin)==null?void 0:r.bottom)??0,i=t+e;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:e,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),O={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};function U(a,t){if(a===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};a=G(a),t=G(t);const[e,i]=[a.x,a.y],[l,r]=[t.x,t.y],s=l-e,n=r-i;return{angle:Math.atan(n/s),deltaX:s,deltaY:n}}p(U,"calculateDeltaAndAngle");var G=p(a=>Array.isArray(a)?{x:a[0],y:a[1]}:a,"pointTransformer"),cr=p(a=>({x:function(t,e,i){let l=0;if(e===0&&Object.hasOwn(O,a.arrowTypeStart)){const{angle:r,deltaX:s}=U(i[0],i[1]);l=O[a.arrowTypeStart]*Math.cos(r)*(s>=0?1:-1)}else if(e===i.length-1&&Object.hasOwn(O,a.arrowTypeEnd)){const{angle:r,deltaX:s}=U(i[i.length-1],i[i.length-2]);l=O[a.arrowTypeEnd]*Math.cos(r)*(s>=0?1:-1)}return G(t).x+l},y:function(t,e,i){let l=0;if(e===0&&Object.hasOwn(O,a.arrowTypeStart)){const{angle:r,deltaY:s}=U(i[0],i[1]);l=O[a.arrowTypeStart]*Math.abs(Math.sin(r))*(s>=0?1:-1)}else if(e===i.length-1&&Object.hasOwn(O,a.arrowTypeEnd)){const{angle:r,deltaY:s}=U(i[i.length-1],i[i.length-2]);l=O[a.arrowTypeEnd]*Math.abs(Math.sin(r))*(s>=0?1:-1)}return G(t).y+l}}),"getLineFunctionsWithOffset"),hr=p((a,t,e,i,l)=>{t.arrowTypeStart&&st(a,"start",t.arrowTypeStart,e,i,l),t.arrowTypeEnd&&st(a,"end",t.arrowTypeEnd,e,i,l)},"addEdgeMarkers"),or={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},st=p((a,t,e,i,l,r)=>{const s=or[e];if(!s){u.warn(`Unknown arrow type: ${e}`);return}const n=t==="start"?"Start":"End";a.attr(`marker-${t}`,`url(${i}#${l}_${r}-${s}${n})`)},"addEdgeMarker"),Z={},E={},Sr=p(()=>{Z={},E={}},"clear"),Mr=p((a,t)=>{const e=M(),i=I(e.flowchart.htmlLabels),l=t.labelType==="markdown"?nt(a,t.label,{style:t.labelStyle,useHtmlLabels:i,addSvgBackground:!0},e):R(t.label,t.labelStyle),r=a.insert("g").attr("class","edgeLabel"),s=r.insert("g").attr("class","label");s.node().appendChild(l);let n=l.getBBox();if(i){const o=l.children[0],h=B(l);n=o.getBoundingClientRect(),h.attr("width",n.width),h.attr("height",n.height)}s.attr("transform","translate("+-n.width/2+", "+-n.height/2+")"),Z[t.id]=r,t.width=n.width,t.height=n.height;let c;if(t.startLabelLeft){const o=R(t.startLabelLeft,t.labelStyle),h=a.insert("g").attr("class","edgeTerminals"),y=h.insert("g").attr("class","inner");c=y.node().appendChild(o);const f=o.getBBox();y.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),E[t.id]||(E[t.id]={}),E[t.id].startLeft=h,z(c,t.startLabelLeft)}if(t.startLabelRight){const o=R(t.startLabelRight,t.labelStyle),h=a.insert("g").attr("class","edgeTerminals"),y=h.insert("g").attr("class","inner");c=h.node().appendChild(o),y.node().appendChild(o);const f=o.getBBox();y.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),E[t.id]||(E[t.id]={}),E[t.id].startRight=h,z(c,t.startLabelRight)}if(t.endLabelLeft){const o=R(t.endLabelLeft,t.labelStyle),h=a.insert("g").attr("class","edgeTerminals"),y=h.insert("g").attr("class","inner");c=y.node().appendChild(o);const f=o.getBBox();y.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(o),E[t.id]||(E[t.id]={}),E[t.id].endLeft=h,z(c,t.endLabelLeft)}if(t.endLabelRight){const o=R(t.endLabelRight,t.labelStyle),h=a.insert("g").attr("class","edgeTerminals"),y=h.insert("g").attr("class","inner");c=y.node().appendChild(o);const f=o.getBBox();y.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(o),E[t.id]||(E[t.id]={}),E[t.id].endRight=h,z(c,t.endLabelRight)}return l},"insertEdgeLabel");function z(a,t){M().flowchart.htmlLabels&&a&&(a.style.width=t.length*9+"px",a.style.height="12px")}p(z,"setTerminalWidth");var _r=p((a,t)=>{u.debug("Moving label abc88 ",a.id,a.label,Z[a.id],t);let e=t.updatedPath?t.updatedPath:t.originalPath;const i=M(),{subGraphTitleTotalMargin:l}=lr(i);if(a.label){const r=Z[a.id];let s=a.x,n=a.y;if(e){const c=j.calcLabelPosition(e);u.debug("Moving label "+a.label+" from (",s,",",n,") to (",c.x,",",c.y,") abc88"),t.updatedPath&&(s=c.x,n=c.y)}r.attr("transform",`translate(${s}, ${n+l/2})`)}if(a.startLabelLeft){const r=E[a.id].startLeft;let s=a.x,n=a.y;if(e){const c=j.calcTerminalLabelPosition(a.arrowTypeStart?10:0,"start_left",e);s=c.x,n=c.y}r.attr("transform",`translate(${s}, ${n})`)}if(a.startLabelRight){const r=E[a.id].startRight;let s=a.x,n=a.y;if(e){const c=j.calcTerminalLabelPosition(a.arrowTypeStart?10:0,"start_right",e);s=c.x,n=c.y}r.attr("transform",`translate(${s}, ${n})`)}if(a.endLabelLeft){const r=E[a.id].endLeft;let s=a.x,n=a.y;if(e){const c=j.calcTerminalLabelPosition(a.arrowTypeEnd?10:0,"end_left",e);s=c.x,n=c.y}r.attr("transform",`translate(${s}, ${n})`)}if(a.endLabelRight){const r=E[a.id].endRight;let s=a.x,n=a.y;if(e){const c=j.calcTerminalLabelPosition(a.arrowTypeEnd?10:0,"end_right",e);s=c.x,n=c.y}r.attr("transform",`translate(${s}, ${n})`)}},"positionEdgeLabel"),pr=p((a,t)=>{const e=a.x,i=a.y,l=Math.abs(t.x-e),r=Math.abs(t.y-i),s=a.width/2,n=a.height/2;return l>=s||r>=n},"outsideNode"),yr=p((a,t,e)=>{u.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(e)}
  node        : x:${a.x} y:${a.y} w:${a.width} h:${a.height}`);const i=a.x,l=a.y,r=Math.abs(i-e.x),s=a.width/2;let n=e.x<t.x?s-r:s+r;const c=a.height/2,o=Math.abs(t.y-e.y),h=Math.abs(t.x-e.x);if(Math.abs(l-t.y)*s>Math.abs(i-t.x)*c){let y=e.y<t.y?t.y-c-l:l-c-t.y;n=h*y/o;const f={x:e.x<t.x?e.x+n:e.x-h+n,y:e.y<t.y?e.y+o-y:e.y-o+y};return n===0&&(f.x=t.x,f.y=t.y),h===0&&(f.x=t.x),o===0&&(f.y=t.y),u.debug(`abc89 topp/bott calc, Q ${o}, q ${y}, R ${h}, r ${n}`,f),f}else{e.x<t.x?n=t.x-s-i:n=i-s-t.x;let y=o*n/h,f=e.x<t.x?e.x+h-n:e.x-h+n,d=e.y<t.y?e.y+y:e.y-y;return u.debug(`sides calc abc89, Q ${o}, q ${y}, R ${h}, r ${n}`,{_x:f,_y:d}),n===0&&(f=t.x,d=t.y),h===0&&(f=t.x),o===0&&(d=t.y),{x:f,y:d}}},"intersection"),it=p((a,t)=>{u.debug("abc88 cutPathAtIntersect",a,t);let e=[],i=a[0],l=!1;return a.forEach(r=>{if(!pr(t,r)&&!l){const s=yr(t,i,r);let n=!1;e.forEach(c=>{n=n||c.x===s.x&&c.y===s.y}),e.some(c=>c.x===s.x&&c.y===s.y)||e.push(s),l=!0}else i=r,l||e.push(r)}),e},"cutPathAtIntersect"),Tr=p(function(a,t,e,i,l,r,s){let n=e.points;u.debug("abc88 InsertEdge: edge=",e,"e=",t);let c=!1;const o=r.node(t.v);var h=r.node(t.w);h!=null&&h.intersect&&(o!=null&&o.intersect)&&(n=n.slice(1,e.points.length-1),n.unshift(o.intersect(n[0])),n.push(h.intersect(n[n.length-1]))),e.toCluster&&(u.debug("to cluster abc88",i[e.toCluster]),n=it(e.points,i[e.toCluster].node),c=!0),e.fromCluster&&(u.debug("from cluster abc88",i[e.fromCluster]),n=it(n.reverse(),i[e.fromCluster].node).reverse(),c=!0);const y=n.filter(S=>!Number.isNaN(S.y));let f=xt;e.curve&&(l==="graph"||l==="flowchart")&&(f=e.curve);const{x:d,y:g}=cr(e),v=gt().x(d).y(g).curve(f);let x;switch(e.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-thick";break;default:x=""}switch(e.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break}const T=a.append("path").attr("d",v(y)).attr("id",e.id).attr("class"," "+x+(e.classes?" "+e.classes:"")).attr("style",e.style);let b="";(M().flowchart.arrowMarkerAbsolute||M().state.arrowMarkerAbsolute)&&(b=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,b=b.replace(/\(/g,"\\("),b=b.replace(/\)/g,"\\)")),hr(T,e,b,s,l);let C={};return c&&(C.updatedPath=n),C.originalPath=e.points,C},"insertEdge"),fr=4;function Er(a){return ut(a,fr)}export{kr as a,Sr as b,Er as c,Mr as d,Tr as e,_r as f,lr as g,R as h,mr as i,It as j,wr as m,Lr as p,vr as s,m as u};
