import{_ as W,j as v,N as $,O as E,r,o as c,c as D,b as t,w as a,P as j,Q as O,R as i,m as s,T as N,U as C,V as R,a as F,h as g,W as V,F as w,y as S,d as x,B as y}from"./entry-chunk-index.js";import{c as k}from"./chunk-index2.js";const K={class:"Storage-root"},P={name:"Storage"},q=Object.assign(P,{setup(A){function T(){console.group("storage"),console.table(Object.getOwnPropertyDescriptors(V)),console.groupEnd()}const f=v({text:`clipboard_${Date.now()}`,async writeText(){await j.writeText(this.text),O.success("复制成功")},async readText(){try{const e=await j.readText();this.text+=e,O.success("粘贴成功")}catch(e){console.dir(e),O.error(`${e.name} : ${e.message}`)}}}),B=v({data:{cookie:document.cookie},console:k({set(){i.set("simpleData",s);for(const[e,o]of Object.entries(s.toJSON()))i.set(e,o)},get(){console.log("get simpleData : ",i.get("simpleData"));for(const[e,o]of Object.entries(s.toJSON()))console.log(`get ${e} : `,i.get(e))},remove(){i.remove("simpleData");for(const[e,o]of Object.entries(s.toJSON()))i.remove(e)},create(){const e=i.create({json:!1,attributes:{expires:3}});console.log(i,e),e.set("newCookie_simpleData",s),console.log(e.get("newCookie_simpleData"))}})}),l=v({data:{localStorage,sessionStorage},storages:{_localStorage:$,_sessionStorage:E},storageName:"_localStorage",get storage(){return this.storages[this.storageName]},console:k({set(){l.storage.set("simpleData",s);for(const[e,o]of Object.entries(s.toJSONWithUndefined()))l.storage.set(e,o)},get(){console.log("get simpleData : ",l.storage.get("simpleData"));for(const[e,o]of Object.entries(s.toJSONWithUndefined()))console.log(`get ${e} : `,l.storage.get(e))},remove(){l.storage.remove("simpleData");for(const[e,o]of Object.entries(s.toJSONWithUndefined()))l.storage.remove(e)},create(){const e=l.storage.create({json:!1});console.log(l.storage,e),e.set("newStorage_simpleData",s),console.log(e.get("newStorage_simpleData"))}})}),I=v({data:{IDBFactory,IDBOpenDBRequest,IDBDatabase,IDBObjectStore,IDBTransaction,IDBRequest,IDBCursor,IDBCursorWithValue,IDBIndex,IDBKeyRange,IDBVersionChangeEvent},idbKeyvalInfo:k({async set(){await N("simpleData",s.toJSONWithUndefined());for(const[e,o]of Object.entries(s.toJSONWithUndefined()))await N(e,o)},async get(){console.log("get simpleData : ",await C("simpleData"));for(const[e,o]of Object.entries(s.toJSONWithUndefined()))console.log(`get ${e} : `,await C(e))},async remove(){(void 0)("simpleData");for(const[e,o]of Object.entries(s.toJSONWithUndefined()))await(void 0)(e)},async update(){await R("counter",e=>(e||0)+1)}})});return(e,o)=>{const d=r("el-button"),p=r("AppValuesTable"),_=r("el-card"),J=r("el-input"),u=r("el-form-item"),b=r("el-form"),h=r("el-option"),U=r("el-select");return c(),D("div",K,[t(_,{header:"总览"},{default:a(()=>[F("header",null,[t(d,{onClick:o[0]||(o[0]=n=>T())},{default:a(()=>[g("storage")]),_:1})]),t(p,{value:V})]),_:1}),t(_,{header:"clipboard 剪贴板"},{default:a(()=>[t(b,{"label-width":100},{default:a(()=>[t(u,{label:"输入内容"},{default:a(()=>[t(J,{modelValue:f.text,"onUpdate:modelValue":o[1]||(o[1]=n=>f.text=n),type:"textarea",rows:4},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(d,{type:"primary",onClick:o[2]||(o[2]=n=>f.writeText())},{default:a(()=>[g("复制")]),_:1}),t(d,{type:"primary",onClick:o[3]||(o[3]=n=>f.readText())},{default:a(()=>[g("粘贴")]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{header:"cookie"},{default:a(()=>[t(p,{value:B.data},null,8,["value"]),t(b,{"label-width":100},{default:a(()=>[t(u,{label:"操作"},{default:a(()=>[(c(!0),D(w,null,S(Object.entries(B.console),([n,m])=>(c(),x(d,{onClick:m},{default:a(()=>[g(y(n),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})]),_:1}),t(_,{header:"storage"},{default:a(()=>[t(p,{value:l.data},null,8,["value"]),t(b,{"label-width":100},{default:a(()=>[t(u,{label:"storage"},{default:a(()=>[t(U,{modelValue:l.storageName,"onUpdate:modelValue":o[4]||(o[4]=n=>l.storageName=n)},{default:a(()=>[t(h,{value:"_localStorage"}),t(h,{value:"_sessionStorage"})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"操作"},{default:a(()=>[(c(!0),D(w,null,S(Object.entries(l.console),([n,m])=>(c(),x(d,{onClick:m},{default:a(()=>[g(y(n),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})]),_:1}),t(_,{header:"indexedDB"},{default:a(()=>[t(p,{value:I.data},null,8,["value"]),t(b,{"label-width":100},{default:a(()=>[t(u,{label:"操作"},{default:a(()=>[(c(!0),D(w,null,S(Object.entries(I.idbKeyvalInfo),([n,m])=>(c(),x(d,{onClick:m},{default:a(()=>[g(y(n),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})]),_:1})])}}}),Q=W(q,[["__scopeId","data-v-3dc89e0d"]]);export{Q as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmstU3RvcmFnZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3ZpZXdzL1N0b3JhZ2UudnVlIl0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cIlN0b3JhZ2Utcm9vdFwiPlxuICAgIDxlbC1jYXJkIGhlYWRlcj1cIuaAu+iniFwiPlxuICAgICAgPGhlYWRlcj5cbiAgICAgICAgPGVsLWJ1dHRvbiBAY2xpY2s9XCJwcmV2aWV3KClcIj5zdG9yYWdlPC9lbC1idXR0b24+XG4gICAgICA8L2hlYWRlcj5cbiAgICAgIDxBcHBWYWx1ZXNUYWJsZSA6dmFsdWU9XCJzdG9yYWdlXCI+PC9BcHBWYWx1ZXNUYWJsZT5cbiAgICA8L2VsLWNhcmQ+XG4gICAgPGVsLWNhcmQgaGVhZGVyPVwiY2xpcGJvYXJkIOWJqui0tOadv1wiPlxuICAgICAgPGVsLWZvcm0gOmxhYmVsLXdpZHRoPVwiMTAwXCI+XG4gICAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9XCLovpPlhaXlhoXlrrlcIj5cbiAgICAgICAgICA8ZWwtaW5wdXQgdi1tb2RlbD1cImNsaXBib2FyZEluZm8udGV4dFwiIHR5cGU9XCJ0ZXh0YXJlYVwiIDpyb3dzPVwiNFwiPjwvZWwtaW5wdXQ+XG4gICAgICAgIDwvZWwtZm9ybS1pdGVtPlxuICAgICAgICA8ZWwtZm9ybS1pdGVtPlxuICAgICAgICAgIDxlbC1idXR0b24gdHlwZT1cInByaW1hcnlcIiBAY2xpY2s9XCJjbGlwYm9hcmRJbmZvLndyaXRlVGV4dCgpXCI+5aSN5Yi2PC9lbC1idXR0b24+XG4gICAgICAgICAgPGVsLWJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cImNsaXBib2FyZEluZm8ucmVhZFRleHQoKVwiPueymOi0tDwvZWwtYnV0dG9uPlxuICAgICAgICA8L2VsLWZvcm0taXRlbT5cbiAgICAgIDwvZWwtZm9ybT5cbiAgICA8L2VsLWNhcmQ+XG4gICAgPGVsLWNhcmQgaGVhZGVyPVwiY29va2llXCI+XG4gICAgICA8QXBwVmFsdWVzVGFibGUgOnZhbHVlPVwiY29va2llSW5mby5kYXRhXCI+PC9BcHBWYWx1ZXNUYWJsZT5cbiAgICAgIDxlbC1mb3JtIDpsYWJlbC13aWR0aD1cIjEwMFwiPlxuICAgICAgICA8ZWwtZm9ybS1pdGVtIGxhYmVsPVwi5pON5L2cXCI+XG4gICAgICAgICAgPGVsLWJ1dHRvbiB2LWZvcj1cIltuYW1lLCBmbl0gaW4gT2JqZWN0LmVudHJpZXMoY29va2llSW5mby5jb25zb2xlKVwiIEBjbGljaz1cImZuXCI+e3sgbmFtZSB9fTwvZWwtYnV0dG9uPlxuICAgICAgICA8L2VsLWZvcm0taXRlbT5cbiAgICAgIDwvZWwtZm9ybT5cbiAgICA8L2VsLWNhcmQ+XG4gICAgPGVsLWNhcmQgaGVhZGVyPVwic3RvcmFnZVwiPlxuICAgICAgPEFwcFZhbHVlc1RhYmxlIDp2YWx1ZT1cInN0b3JhZ2VJbmZvLmRhdGFcIj48L0FwcFZhbHVlc1RhYmxlPlxuICAgICAgPGVsLWZvcm0gOmxhYmVsLXdpZHRoPVwiMTAwXCI+XG4gICAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9XCJzdG9yYWdlXCI+XG4gICAgICAgICAgPCEtLSDnm7TmjqXnu5FzdG9yYWdl5pe2ZWwtb3B0aW9u5Lya5ZCM5pe26YCJ5Lit5peg5rOV5YiH5o2i77yM5pS55oiQ57uRIHN0b3JhZ2VOYW1lIC0tPlxuICAgICAgICAgIDxlbC1zZWxlY3Qgdi1tb2RlbD1cInN0b3JhZ2VJbmZvLnN0b3JhZ2VOYW1lXCI+XG4gICAgICAgICAgICA8ZWwtb3B0aW9uIHZhbHVlPVwiX2xvY2FsU3RvcmFnZVwiPjwvZWwtb3B0aW9uPlxuICAgICAgICAgICAgPGVsLW9wdGlvbiB2YWx1ZT1cIl9zZXNzaW9uU3RvcmFnZVwiPjwvZWwtb3B0aW9uPlxuICAgICAgICAgIDwvZWwtc2VsZWN0PlxuICAgICAgICA8L2VsLWZvcm0taXRlbT5cbiAgICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD1cIuaTjeS9nFwiPlxuICAgICAgICAgIDxlbC1idXR0b24gdi1mb3I9XCJbbmFtZSwgZm5dIGluIE9iamVjdC5lbnRyaWVzKHN0b3JhZ2VJbmZvLmNvbnNvbGUpXCIgQGNsaWNrPVwiZm5cIj57eyBuYW1lIH19PC9lbC1idXR0b24+XG4gICAgICAgIDwvZWwtZm9ybS1pdGVtPlxuICAgICAgPC9lbC1mb3JtPlxuICAgIDwvZWwtY2FyZD5cbiAgICA8ZWwtY2FyZCBoZWFkZXI9XCJpbmRleGVkREJcIj5cbiAgICAgIDxBcHBWYWx1ZXNUYWJsZSA6dmFsdWU9XCJpbmRleGVkREJJbmZvLmRhdGFcIj48L0FwcFZhbHVlc1RhYmxlPlxuICAgICAgPGVsLWZvcm0gOmxhYmVsLXdpZHRoPVwiMTAwXCI+XG4gICAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9XCLmk43kvZxcIj5cbiAgICAgICAgICA8ZWwtYnV0dG9uIHYtZm9yPVwiW25hbWUsIGZuXSBpbiBPYmplY3QuZW50cmllcyhpbmRleGVkREJJbmZvLmlkYktleXZhbEluZm8pXCIgQGNsaWNrPVwiZm5cIj57eyBuYW1lIH19PC9lbC1idXR0b24+XG4gICAgICAgIDwvZWwtZm9ybS1pdGVtPlxuICAgICAgPC9lbC1mb3JtPlxuICAgIDwvZWwtY2FyZD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuPHNjcmlwdD5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdTdG9yYWdlJyxcbiAgfTtcbjwvc2NyaXB0PlxuPHNjcmlwdCBzZXR1cD5cbiAgaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnO1xuICBpbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnO1xuICBpbXBvcnQgKiBhcyBzdG9yYWdlIGZyb20gJ2hwLXNoYXJlZC9zdG9yYWdlJztcbiAgaW1wb3J0IHsgY2xpcGJvYXJkLCBjb29raWUsIF9sb2NhbFN0b3JhZ2UsIF9zZXNzaW9uU3RvcmFnZSwgaWRiS2V5dmFsIH0gZnJvbSAnaHAtc2hhcmVkL3N0b3JhZ2UnO1xuICBpbXBvcnQgeyBjcmVhdGVUZXN0c1Byb3h5LCBzaW1wbGVEYXRhIH0gZnJvbSAnQF9fdGVzdHNfXy9zaGFyZWQnO1xuXG4gIGZ1bmN0aW9uIHByZXZpZXcoKSB7XG4gICAgY29uc29sZS5ncm91cCgnc3RvcmFnZScpO1xuICAgIGNvbnNvbGUudGFibGUoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc3RvcmFnZSkpO1xuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxuICBjb25zdCBjbGlwYm9hcmRJbmZvID0gcmVhY3RpdmUoe1xuICAgIHRleHQ6IGBjbGlwYm9hcmRfJHtEYXRlLm5vdygpfWAsXG4gICAgYXN5bmMgd3JpdGVUZXh0KCkge1xuICAgICAgYXdhaXQgY2xpcGJvYXJkLndyaXRlVGV4dCh0aGlzLnRleHQpO1xuICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpO1xuICAgIH0sXG4gICAgYXN5bmMgcmVhZFRleHQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgY2xpcGJvYXJkLnJlYWRUZXh0KCk7XG4gICAgICAgIHRoaXMudGV4dCArPSB0ZXh0O1xuICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn57KY6LS05oiQ5YqfJyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKGUpO1xuICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoYCR7ZS5uYW1lfSA6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBjb29raWVJbmZvID0gcmVhY3RpdmUoe1xuICAgIGRhdGE6IHtcbiAgICAgIGNvb2tpZTogZG9jdW1lbnQuY29va2llLFxuICAgIH0sXG4gICAgY29uc29sZTogY3JlYXRlVGVzdHNQcm94eSh7XG4gICAgICBzZXQoKSB7XG4gICAgICAgIGNvb2tpZS5zZXQoJ3NpbXBsZURhdGEnLCBzaW1wbGVEYXRhKTtcbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNpbXBsZURhdGEudG9KU09OKCkpKSB7XG4gICAgICAgICAgY29va2llLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdnZXQgc2ltcGxlRGF0YSA6ICcsIGNvb2tpZS5nZXQoJ3NpbXBsZURhdGEnKSk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaW1wbGVEYXRhLnRvSlNPTigpKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBnZXQgJHtuYW1lfSA6IGAsIGNvb2tpZS5nZXQobmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVtb3ZlKCkge1xuICAgICAgICBjb29raWUucmVtb3ZlKCdzaW1wbGVEYXRhJyk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaW1wbGVEYXRhLnRvSlNPTigpKSkge1xuICAgICAgICAgIGNvb2tpZS5yZW1vdmUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IG5ld0Nvb2tpZSA9IGNvb2tpZS5jcmVhdGUoe1xuICAgICAgICAgIGpzb246IGZhbHNlLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGV4cGlyZXM6IDMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvb2tpZSwgbmV3Q29va2llKTtcbiAgICAgICAgbmV3Q29va2llLnNldCgnbmV3Q29va2llX3NpbXBsZURhdGEnLCBzaW1wbGVEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2cobmV3Q29va2llLmdldCgnbmV3Q29va2llX3NpbXBsZURhdGEnKSk7XG4gICAgICB9LFxuICAgIH0pLFxuICB9KTtcbiAgY29uc3Qgc3RvcmFnZUluZm8gPSByZWFjdGl2ZSh7XG4gICAgZGF0YToge1xuICAgICAgbG9jYWxTdG9yYWdlLFxuICAgICAgc2Vzc2lvblN0b3JhZ2UsXG4gICAgfSxcbiAgICBzdG9yYWdlczoge1xuICAgICAgX2xvY2FsU3RvcmFnZSxcbiAgICAgIF9zZXNzaW9uU3RvcmFnZSxcbiAgICB9LFxuICAgIHN0b3JhZ2VOYW1lOiAnX2xvY2FsU3RvcmFnZScsXG4gICAgZ2V0IHN0b3JhZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlc1t0aGlzLnN0b3JhZ2VOYW1lXTtcbiAgICB9LFxuICAgIGNvbnNvbGU6IGNyZWF0ZVRlc3RzUHJveHkoe1xuICAgICAgc2V0KCkge1xuICAgICAgICBzdG9yYWdlSW5mby5zdG9yYWdlLnNldCgnc2ltcGxlRGF0YScsIHNpbXBsZURhdGEpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaW1wbGVEYXRhLnRvSlNPTldpdGhVbmRlZmluZWQoKSkpIHtcbiAgICAgICAgICBzdG9yYWdlSW5mby5zdG9yYWdlLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2dldCBzaW1wbGVEYXRhIDogJywgc3RvcmFnZUluZm8uc3RvcmFnZS5nZXQoJ3NpbXBsZURhdGEnKSk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaW1wbGVEYXRhLnRvSlNPTldpdGhVbmRlZmluZWQoKSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgZ2V0ICR7bmFtZX0gOiBgLCBzdG9yYWdlSW5mby5zdG9yYWdlLmdldChuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZW1vdmUoKSB7XG4gICAgICAgIHN0b3JhZ2VJbmZvLnN0b3JhZ2UucmVtb3ZlKCdzaW1wbGVEYXRhJyk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaW1wbGVEYXRhLnRvSlNPTldpdGhVbmRlZmluZWQoKSkpIHtcbiAgICAgICAgICBzdG9yYWdlSW5mby5zdG9yYWdlLnJlbW92ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbmV3U3RvcmFnZSA9IHN0b3JhZ2VJbmZvLnN0b3JhZ2UuY3JlYXRlKHtcbiAgICAgICAgICBqc29uOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0b3JhZ2VJbmZvLnN0b3JhZ2UsIG5ld1N0b3JhZ2UpO1xuICAgICAgICBuZXdTdG9yYWdlLnNldCgnbmV3U3RvcmFnZV9zaW1wbGVEYXRhJywgc2ltcGxlRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG5ld1N0b3JhZ2UuZ2V0KCduZXdTdG9yYWdlX3NpbXBsZURhdGEnKSk7XG4gICAgICB9LFxuICAgIH0pLFxuICB9KTtcbiAgY29uc3QgaW5kZXhlZERCSW5mbyA9IHJlYWN0aXZlKHtcbiAgICBkYXRhOiB7XG4gICAgICBJREJGYWN0b3J5LFxuICAgICAgSURCT3BlbkRCUmVxdWVzdCxcbiAgICAgIElEQkRhdGFiYXNlLFxuXG4gICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgIElEQlRyYW5zYWN0aW9uLFxuICAgICAgSURCUmVxdWVzdCxcbiAgICAgIElEQkN1cnNvcixcbiAgICAgIElEQkN1cnNvcldpdGhWYWx1ZSxcbiAgICAgIElEQkluZGV4LFxuICAgICAgSURCS2V5UmFuZ2UsXG5cbiAgICAgIElEQlZlcnNpb25DaGFuZ2VFdmVudCxcbiAgICB9LFxuXG4gICAgaWRiS2V5dmFsSW5mbzogY3JlYXRlVGVzdHNQcm94eSh7XG4gICAgICBhc3luYyBzZXQoKSB7XG4gICAgICAgIGF3YWl0IGlkYktleXZhbC5zZXQoJ3NpbXBsZURhdGEnLCBzaW1wbGVEYXRhLnRvSlNPTldpdGhVbmRlZmluZWQoKSk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNpbXBsZURhdGEudG9KU09OV2l0aFVuZGVmaW5lZCgpKSkge1xuICAgICAgICAgIGF3YWl0IGlkYktleXZhbC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBnZXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdnZXQgc2ltcGxlRGF0YSA6ICcsIGF3YWl0IGlkYktleXZhbC5nZXQoJ3NpbXBsZURhdGEnKSk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaW1wbGVEYXRhLnRvSlNPTldpdGhVbmRlZmluZWQoKSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgZ2V0ICR7bmFtZX0gOiBgLCBhd2FpdCBpZGJLZXl2YWwuZ2V0KG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIHJlbW92ZSgpIHtcbiAgICAgICAgaWRiS2V5dmFsLnJlbW92ZSgnc2ltcGxlRGF0YScpO1xuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2ltcGxlRGF0YS50b0pTT05XaXRoVW5kZWZpbmVkKCkpKSB7XG4gICAgICAgICAgYXdhaXQgaWRiS2V5dmFsLnJlbW92ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIHVwZGF0ZSgpIHtcbiAgICAgICAgYXdhaXQgaWRiS2V5dmFsLnVwZGF0ZSgnY291bnRlcicsICh2YWwpID0+ICh2YWwgfHwgMCkgKyAxKTtcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pO1xuPC9zY3JpcHQ+XG48c3R5bGUgc2NvcGVkIGxhbmc9XCJzY3NzXCI+XG4gIC5TdG9yYWdlLXJvb3R7fVxuPC9zdHlsZT5cbiJdLCJuYW1lcyI6WyJwcmV2aWV3Iiwic3RvcmFnZSIsImNsaXBib2FyZEluZm8iLCJyZWFjdGl2ZSIsImNsaXBib2FyZCIsIkVsTWVzc2FnZSIsInRleHQiLCJjb29raWVJbmZvIiwiY3JlYXRlVGVzdHNQcm94eSIsImNvb2tpZSIsInNpbXBsZURhdGEiLCJuYW1lIiwidmFsdWUiLCJuZXdDb29raWUiLCJzdG9yYWdlSW5mbyIsIl9sb2NhbFN0b3JhZ2UiLCJfc2Vzc2lvblN0b3JhZ2UiLCJrZXkiLCJuZXdTdG9yYWdlIiwiaW5kZXhlZERCSW5mbyIsImlkYktleXZhbC5zZXQiLCJpZGJLZXl2YWwuZ2V0IiwiaWRiS2V5dmFsLnJlbW92ZSIsImlkYktleXZhbC51cGRhdGUiLCJ2YWwiXSwibWFwcGluZ3MiOiJ1UUFxRGlCLENBQ2IsS0FBTSxTQUNWLDhCQVNFLFNBQVNBLEdBQVUsQ0FDakIsUUFBUSxNQUFNLFNBQVMsRUFDdkIsUUFBUSxNQUFNLE9BQU8sMEJBQTBCQyxDQUFPLENBQUMsRUFDdkQsUUFBUSxTQUFRLENBQ2pCLENBQ0QsTUFBTUMsRUFBZ0JDLEVBQVMsQ0FDN0IsS0FBTSxhQUFhLEtBQUssSUFBSyxJQUM3QixNQUFNLFdBQVksQ0FDaEIsTUFBTUMsRUFBVSxVQUFVLEtBQUssSUFBSSxFQUNuQ0MsRUFBVSxRQUFRLE1BQU0sQ0FDekIsRUFDRCxNQUFNLFVBQVcsQ0FDZixHQUFJLENBQ0YsTUFBTUMsRUFBTyxNQUFNRixFQUFVLFdBQzdCLEtBQUssTUFBUUUsRUFDYkQsRUFBVSxRQUFRLE1BQU0sQ0FDekIsT0FBUSxFQUFQLENBQ0EsUUFBUSxJQUFJLENBQUMsRUFDYkEsRUFBVSxNQUFNLEdBQUcsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUMzQyxDQUNGLENBQ0wsQ0FBRyxFQUNLRSxFQUFhSixFQUFTLENBQzFCLEtBQU0sQ0FDSixPQUFRLFNBQVMsTUFDbEIsRUFDRCxRQUFTSyxFQUFpQixDQUN4QixLQUFNLENBQ0pDLEVBQU8sSUFBSSxhQUFjQyxDQUFVLEVBQ25DLFNBQVcsQ0FBQ0MsRUFBTUMsQ0FBSyxJQUFLLE9BQU8sUUFBUUYsRUFBVyxPQUFNLENBQUUsRUFDNURELEVBQU8sSUFBSUUsRUFBTUMsQ0FBSyxDQUV6QixFQUNELEtBQU0sQ0FDSixRQUFRLElB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
